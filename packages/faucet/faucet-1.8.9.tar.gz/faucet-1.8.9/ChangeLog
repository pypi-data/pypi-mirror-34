CHANGES
=======

1.8.9
-----

* pytype
* Bump version for release
* Add Bob Lantz
* pylint
* Somewhat generalize star-stack topology implementation
* Make pip install quiet again
* Special case for 2 layer stacks - leverage DP-local flooding
* Compute longest path to root length
* pytype
* pylint
* Remove dependency on Ryu for python2
* pytype noise
* pytype noise
* mininet library check needs to more flexible
* ConnectionError conflict
* pylint
* Restore min pylint to 9.2
* pylint
* pylint
* pylint
* pylint
* pylint
* pylint
* pylint
* Reset min pylint
* Reset min pylint to 9.0
* pylint
* pylint
* Reduce lint score for py3 based lint
* py2 doesn't need ryu
* Re-enable external pip cache
* Move influxdb dependency check for py3
* Reduce dependencies for py2
* Fix pip/pip3
* Split py2 requirements
* Remove astroid from test-requirements.txt
* Disable pip quiet
* Disable pip cache
* FaucetSimpleTest should support hardware
* Update the capabilities for the Cisco C9K switch
* Use more efficient wildcard delete for in\_port
* Log active table IDs, and use more efficient wildcard delete command
* vlan\_match\_tables() needs to be a set
* Don't try to delete unconfigured tables for VLAN match
* Missed call to self.dp.reset\_refs() causes VLAN associations to be lost if all ports change
* Preversion 1.8.9

1.8.8
-----

* Fix duplicate output when a port mirrors more than one other port
* Use warm start for MultiMirror test
* Test case where both ports are mirrored
* Version bump
* SanityTest misreports conflicting processes running on ::1
* InfluxDB test fails on hardware that has unsupported counters (report value as 0)
* Test InfluxDB server has to be IPv4
* InfluxDB python client doesn't support IPv6 addresses
* Reduce parallel test max by half
* Move Prometheus and ofctl test traffic to ::1 from 127.0.0.1
* Leave TCP config alone. Don't set self.net to None on stop
* Use recycle not reuse
* Don't start any controllers on a remap switch for hardware testing
* Deconfigure switch controllers before net.stop()
* update version of grafana
* update version of influxdb
* fuzzer pylint
* Improve pylint score for fuzz\_packet.py
* Add AFL
* Improve pylint score for display\_packet\_crash.py
* Remove debug statements from MultiDB test. Implement LISTPORTS command for test port server
* src\_files should use find, which is smarter than ls
* Disambiguate test port names with PID
* explicitly throw errors if they occur
* valve test file moved
* Add experimental API test app back to unit tests
* Pin docker-ce 18.03.1~ce-0~ubuntu
* Revert to 17.09.1~ce-0~ubuntu
* Dump travis docker-ce versions
* Pin docker to 17.12.1
* Pin docker version
* Update path to unit tests in documentation
* Rename/reorganize test scripts
* Non hardware switches in software stack should be OVS
* Clean up our gitlab CI build script
* Preversion 1.8.8

1.8.7
-----

* Bump README version
* Handle reconfiguration after not receiving any routes from BGP peer
* BGP should re-add routes it has learned on VLAN reconfiguration
* Atomic replacement of BGP speaker structure
* Incremental refactoring to make BGP warm starts safe
* Revert "Revert "Don't need to apt-get locales now in base docker test image.""
* Clean up BGP config time checks
* Avoid eventlet 0.23 for Ryu
* Revert "Don't need to apt-get locales now in base docker test image."
* Don't need to apt-get locales now in base docker test image
* Update ryu from 4.25 to 4.26
* Update ryu from 4.25 to 4.26
* Update HPE Aruba documentation for 5400R
* Upgrade docker images
* Explicitly mention raspbian in install docs
* Exception handling when a file is not found
* Preversion 1.8.7

1.8.6
-----

* version bump
* pytype
* Stacking tests should remap hardware interfaces
* Stacking should allow port references
* Update pytype from 2018.6.18 to 2018.6.19
* Simplify packet in handler
* Update config\_parser\_util.py
* Update config\_parser\_util.py
* Re-enable FaucetUntaggedRandomVidTest test
* Update note for MultiConf test
* Revert "Retry multiconf test."
* Retry multiconf test
* update pika library to latest
* Greater order
* Re-enable FaucetTaggedScaleTest with relaxed learn count requirements
* "p"
* Need to force UTF8 locale for pytype
* Try pytype in V2.7 mode only
* Disable ScaleTest while investigating flakes.â‰ˆy
* Temporarily disable FaucetUntaggedRandomVidTest to investigate flakes

1.8.5
-----

* Bump version number
* Don't try to send LLDP for stack ports if LLDP is not enabled
* Don't automatically enable LLDP for stack ports
* Double check lldp\_beacon
* Log DP name as well as ID
* Cleanup used of namedtuple
* Improving diagnostic error message
* Should not edit LLDP config at run time
* Support hardware testing for stacking
* Incremental support for hardware switch testing with stacking
* Use same class to associate hardware switch (incremental support for hardware switches in stacking)
* Speed up LLDP blocked tests
* Temporarily disable stack cabling counter for FaucetSingleStackStringOfDPTaggedTest
* Re-verify cable errors for FaucetSingleStackStringOfDPTaggedTest
* Revert "Don't verify cabling counters for FaucetSingleStackStringOfDPTaggedTest."
* Test LLDP probes and LLDP from hosts are not flooded
* Test that stack hosts don't see LLDP probes
* Diagnostic change to exact match LLDP
* Recommend -i flag for integration testing on hardware (faster)
* Make documentation more generic
* Adding dynamic docker network option
* Attempt non -Z pytype
* Extraneous \n
* Pin pytype to 2018.5.22.1 for -Z flag
* pylint
* update docs for running only a single int test
* use stat based reload for RandVlan test
* Revert "Report test output in json format."
* Report test output in json format
* Log result of SanityTest
* Add jsonreport option to tests
* Randomized VID test
* Stricter checking of eth\_dst when receiving LLDP
* Fix BRIDGE\_GROUP\_MASK
* Use 5 byte mask for bridge addresses
* Don't flood 01:80:c2:00:00:00 to 0f addresses per 802.1D
* Drop LLDP/BDPUs in flood table, enabling bridge local traffic to be learned
* Removing gasket Dockerfiles which are not useful yet
* Revert "pylint."
* Revert "Fix match.match."
* Fix match.match
* pylint
* pylint
* Pre-version 1.8.1

1.8.0
-----

* Bump version to 1.8.0
* Fix group\_id check
* Condense GroupTable tests
* Test IPv6 VIPs are inconsistent
* Make FaucetGroupTableUntaggedIPv6RouteTest unreliable
* Missing group\_id
* tcpdump\_helper fix
* pylint
* pylint
* pylint
* pylint
* FaucetConfigStatReloadAclTest should not hup
* Simplify FaucetUntaggedHUPTest
* verify\_faucet\_func() can take list of callables
* Fix tabs\_are\_bad()
* change\_port\_config() missing arg
* reload\_conf() arg cleanup
* reload\_conf needs to pass verify arguments
* verify\_faucet\_reconf() should check warm/cold start counters
* cleanup reload\_conf()
* configure isn't smart enough to glob a path
* DPDK 18.02.1 has a slightly different install path and needs python-six
* More predictable tcpdump test
* Fixing flaky tcpdump behavior
* Upgrade Beka to 0.3.3
* Don't provision VIP table either, if no routing configured
* OFPTFPT\_NEXT\_TABLES is automatically generated
* Don't provision unused tables on TFM switches
* Rewrite OFPTableFeaturePropNextTables
* Don't provision unused routing tables
* Send switch\_features() handler on every cold start
* Use route manager active flag
* Reload test can use same config
* add in missing keywords for ping tests
* test should be less than minimum, not also equal
* pylint
* Handle deconfigured VLAN while BGP active
* Better pick unused vid
* Pick unused VID
* Don't use an unused port to force cold start
* Add test for \_\_dict\_\_ on port/vlan/dp
* Config test for DP
* It's better to use the generic set\_fields modifier
* Fix typo
* Grafana doesn't call this "proxy" anymore
* ACLs should be rejected when output port can't be resolved
* Add Port unit tests
* Add more VLAN unit tests
* Must resolve all ports
* Adding tcpdump\_helper unit-test
* Add Sam Russell to authors
* Fix VLAN.to\_conf() for faucet\_vips
* Fix VLAN.to\_conf() route format
* Port.to\_conf() serialises VLAN names correctly
* Make test\_gauge quiet
* Make test\_fctl.py quieter
* Work-around for docker users missing from system
* Testability update to check\_faucet\_config.py
* Upgrade grafana images to 5.1.x
* LLDP test did not handle long DPIDs
* use rst's note
* Add documentation on developing faucet with PyCharm
* added configration documentation for meters
* return value not correct
* pylint
* Use common resolve\_handler callable
* Simplify dead nexthop expiry
* Should not use max\_age for nexthop dead ness
* Reduce number of cache lookups getting list of not fresh nexthops
* Fix initial retry counter not incremented when proactively resolving
* Incremental simplification of nexthop resolution
* Adding docker host capability and test
* Reduce boilerplate event scheduling code
* We have migrated from travis-ci.org to travis-ci.com
* Verify packet in counter
* Increase minimum test coverage to 90%
* Add smoke test for group support
* Add test for port override output port
* Test coverage for get\_tables()
* Remove unused method
* pylint
* Test API call for config
* Remove unused method
* Learn on stack port
* Add test coverage for stack edge learning
* Increase test coverage to 88%
* Test coverage for LACP
* Incremental coverage for LACP
* Standardize how coverage reporting is run
* Coverage reporting uses wrong directory
* Run unit tests with coverage tool to accurately include module imports
* git pre-commit hook now runs coverage tests
* pylint
* Test ofdesc handler
* Test packet in rate limit
* Add test for reconnect handler
* Test scrape http failure
* Test coverage for test\_check\_config
* logging level always set
* Test coverage for check\_faucet\_config.py
* Test no dp conf
* Increase test coverage to 85%
* Test coverage for push/pop VLAN config
* Add test coverage for ACL config
* Smoke test for idle needs correct table ID
* Increase coverage for idle algorithm (flow\_timeout())
* Increase test coverage to 84%
* Can't use parallel to run pytype due to multiple egg cache access
* Smoke test BGP route handler
* Smoke test coverage for the idle-flow based learning manager
* Preversion 1.7.7

1.7.6
-----

* Bump README version
* Use last\_retry\_time from cache entry
* Max proactive limit needs to be same as test
* pytype check for is None for a nexthop cache entry
* Reduce default limit on proactive ARP/ND further (more sane limit)
* last\_retry time must be last
* Simplify ICMPv6 handler
* Update sphinx\_rtd\_theme from 0.3.0 to 0.3.1
* Add error messages and remove try/catch
* Replace use of assert statements in valve\_of.py
* Replace use of assert statements in valve\_acl.py
* pylint
* Increase min lint score to 9.2
* Increase min lint score to 9.1
* pylint
* pylint
* Increase test coverage to 83%
* Gauge should use ryu\_event timestamp
* More test coverage for ryu\_event handlers
* Test coverage for ryu\_event handlers
* Test coverage for faucet.py
* Add test coverage directly, for experimental API
* Increase test coverage minimum to 82%
* Test notifier check\_path()
* Simplify Gauge OF reply handler
* Protect event handlers where DP is required to be running
* Use common datapath config
* Common datapath connect/disconnect/reconnect handlers
* Use common \_CONTEXT
* ofmsgs overridden on warm start
* ofmsgs missing reference
* Add events for config reloads
* \_get\_valve() normalizes ryu\_event contents
* Rearrange args for \_get\_valve()
* Lock onto ubuntu 16.04 to allow builds on docker cloud
* Add clib unit test submodule
* Don't run any LLDP sender code if LLDP not enabled
* Don't reference LLDP chassis ID/TTL where LLDP not enabled
* Interface range with single port as an int doesn't parse
* Increase minimum test coverage to 81%
* Incremental test coverage for Prometheus flow table export
* Test valid Gauge config
* Move Gauge smoke test to test\_gauge
* Minimum test coverage is now 80%
* Smoke test config reload
* Smoke test reload config
* Test more initializers
* Use test registry
* Smoke test metrics initialization
* Gauge missing call to override registry
* Revert "Prometheus client can take a registry argument, so can be initialized in test."
* Revert "Smoke test reload\_config()."
* Revert "Restrict test registry scope."
* Restrict test registry scope
* Use REGISTRY not core.REGISTRY
* Smoke test reload\_config()
* Prometheus client can take a registry argument, so can be initialized in test
* Allow Prometheus client to take registry argument
* Test coverage for version
* Test coverage for \_\_main\_\_.py
* Run loop\_protect in unit test
* instantiate FaucetExperimentalAPI
* Implement of\_vlan\_packet\_ins
* Move more services out of \_\_init\_\_ to start()
* Revert "Revert "Avoid initializing Prometheus client in \_\_init\_\_().""
* Revert "Avoid initializing Prometheus client in \_\_init\_\_()."
* Increase minimum test coverage to 79%
* Avoid initializing Prometheus client in \_\_init\_\_()
* Smoke test for Gauge
* Smoke test Faucet class
* Start BGP in unit tests
* placate pylint
* Pre-version 1.7.5

1.7.4
-----

* Bump version to 1.7.4
* Don't upgrade pip (best practice as of pip 10)
* Preversion 1.7.4

1.7.3
-----

* Bump README version
* Adding -i test flag for integration tests only
* Add utility script for local testing
* Use test WSGI server
* eventlet monkey\_patch needs to come first
