
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>16.2. Building the CamCOPS client &#8212; CamCOPS 2.2.7 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/camcops_docs.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="16.3. C++ code style used" href="cpp_code_style.html" />
    <link rel="prev" title="16.1. Creating tasks" href="creating_tasks.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cpp_code_style.html" title="16.3. C++ code style used"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="creating_tasks.html" title="16.1. Creating tasks"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CamCOPS 2.2.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">16. Developer notes</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="building-the-camcops-client">
<h1>16.2. Building the CamCOPS client<a class="headerlink" href="#building-the-camcops-client" title="Permalink to this headline">¶</a></h1>
<p>The CamCOPS client is written in C++11 using the <a class="reference external" href="https://www.qt.io/">Qt</a> cross-platform framework.</p>
<div class="section" id="prerequisites">
<h2>16.2.1. Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<div class="section" id="linux">
<h3>16.2.1.1. Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Linux should come with Python and the necessary build tools.</li>
<li>To build Android programs under Linux, you will also need a Java development
kit (JDK), such as OpenJDK: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">openjdk-8-jdk</span></code></li>
</ul>
</div>
<div class="section" id="windows">
<h3>16.2.1.2. Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Install a recent version of <a class="reference external" href="https://www.python.org/">Python</a>. Make sure it’s on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.</p>
</li>
<li><p class="first">Install a Microsoft Visual C++ compiler. A free one is <a class="reference external" href="https://visualstudio.microsoft.com/">Visual Studio</a>
Community. As you install Visual Studio, don’t forget to tick the C++
options.</p>
</li>
<li><p class="first">Install these other tools:</p>
<ul class="simple">
<li><a class="reference external" href="https://cmake.org/">CMake</a>. (We’ll use this version of cmake to build CamCOPS.)</li>
<li><a class="reference external" href="https://www.cygwin.com/">Cygwin</a> and its packages <code class="docutils literal notranslate"><span class="pre">cmake</span></code>, <code class="docutils literal notranslate"><span class="pre">gcc-g++</span></code>, and <code class="docutils literal notranslate"><span class="pre">make</span></code>. (If you missed
them out during initial installation, just re-run the Cygwin setup program,
such as <code class="docutils literal notranslate"><span class="pre">setup-x86_64.exe</span></code>. SQLCipher requires <code class="docutils literal notranslate"><span class="pre">make</span></code>.)</li>
<li><a class="reference external" href="http://www.nasm.us/">NASM</a>, the Netwide Assembler for x86-family processors.</li>
<li>ActiveState <a class="reference external" href="https://www.activestate.com/activetcl">TCL</a>. (SQLCipher requires <code class="docutils literal notranslate"><span class="pre">tclsh</span></code>.)</li>
<li>ActiveState <a class="reference external" href="https://www.activestate.com/activeperl">Perl</a>. (OpenSSL requires <code class="docutils literal notranslate"><span class="pre">perl</span></code>.)</li>
<li>Optionally, <a class="reference external" href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/">Debugging Tools for Windows</a> (including CDB), such as from
the <a class="reference external" href="https://developer.microsoft.com/en-us/windows/downloads/windows-10-sdk">Windows SDK</a>.</li>
</ul>
</li>
<li><p class="first">Add everything to the <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.</p>
<ul>
<li><p class="first">In Windows 10, persistent environment variable settings are accessible by
searching the Start menu for “environment variables”, or
<span class="menuselection">Start ‣ Control Panel ‣ System and Security ‣ System
‣ Advanced System Settings ‣ Environment Variables</span>.</p>
</li>
<li><p class="first">You can use either the User or the System settings, as you see fit.</p>
</li>
<li><p class="first">PATH elements are separated with semicolons, if you edit the path manually.</p>
</li>
<li><p class="first">For example, you may want these:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>C:\cygwin64\bin
C:\Program Files\NASM
C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Auxiliary\Build

-- These are usually added automatically by installers:

C:\Program Files\Git\cmd
C:\ActiveTcl\bin
C:\Perl64\bin
</pre></div>
</div>
</li>
<li><p class="first">Do make sure that the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> doesn’t have an unquoted ampersand in; this
is technically legal but it causes no end of trouble (see <code class="docutils literal notranslate"><span class="pre">build_qt.py</span></code>).
(The usual culprit is MySQL.) The <code class="docutils literal notranslate"><span class="pre">build_qt.py</span></code> script will check this.</p>
</li>
</ul>
</li>
<li><p class="first">Tested in July 2018 with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ActivePerl 5.24.3 build 2404 (64-bit)
ActiveTcl 8.6.7 build 0 (64-bit)
CMake 3.12.0 (64-bit)
Cygwin Setup 2.889 (64-bit)
Microsoft Visual Studio Community 2017
NASM 2.13.03 (64-bit)
Python 3.6
Qt Creator 4.7.0
Windows 10 (64-bit)
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="all-operating-systems">
<h3>16.2.1.3. All operating systems<a class="headerlink" href="#all-operating-systems" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Install the open-source edition of <a class="reference external" href="https://www.qt.io/">Qt</a>, with Qt Creator. (You only really
need the Tools component. We will fetch Qt separately.)</p>
</li>
<li><p class="first">Make sure you have <a class="reference external" href="https://git-scm.com/">Git</a> installed.</p>
</li>
<li><p class="first">Set some environment variables, so we can be consistent in these
instructions. Specimen values:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="23%" />
<col width="33%" />
<col width="25%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment
variable</th>
<th class="head">Example value (Linux)</th>
<th class="head">Example value (Windows)</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CAMCOPS_QT_BASE_DIR</td>
<td><code class="docutils literal notranslate"><span class="pre">~/dev/qt_local_build</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">%USERPROFILE%\dev\qt_local_build</span></code></td>
<td>Read by <code class="docutils literal notranslate"><span class="pre">build_qt.py</span></code>.</td>
</tr>
<tr class="row-odd"><td>CAMCOPS_SOURCE_DIR</td>
<td><code class="docutils literal notranslate"><span class="pre">~/dev/camcops</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">%USERPROFILE%\dev\camcops</span></code></td>
<td>Used in these instructions.</td>
</tr>
<tr class="row-even"><td>CAMCOPS_VENV</td>
<td><code class="docutils literal notranslate"><span class="pre">~/dev/camcops_venv</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">%USERPROFILE%\dev\camcops_venv</span></code></td>
<td>Used in these instructions.</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Fetch CamCOPS. For example, for the GitHub version:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux</span>
git clone https://github.com/RudolfCardinal/camcops <span class="nv">$CAMCOPS_SOURCE_DIR</span>
</pre></div>
</div>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="c1">REM Windows</span>
git clone https://github.com/RudolfCardinal/camcops <span class="nv">%CAMCOPS_SOURCE_DIR%</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a virtual environment and install some Python tools:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux</span>
python3 -m virtualenv <span class="nv">$CAMCOPS_VENV</span>
. <span class="nv">$CAMCOPS_VENV</span>/bin/activate
pip install <span class="nv">cardinal_pythonlib</span><span class="o">==</span><span class="m">1</span>.0.23
</pre></div>
</div>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="c1">REM Windows</span>
python -m virtualenv <span class="nv">%CAMCOPS_VENV%</span>
<span class="nv">%CAMCOPS_VENV%</span>\Scripts\activate
pip install cardinal_pythonlib==1.0.23
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="build-openssl-sqlcipher-qt">
<h2>16.2.2. Build OpenSSL, SQLCipher, Qt<a class="headerlink" href="#build-openssl-sqlcipher-qt" title="Permalink to this headline">¶</a></h2>
<p>Build a copy of Qt and supporting tools (OpenSSL, SQLCipher) from source using
the CamCOPS <a class="reference internal" href="development_command_line.html#build-qt"><span class="std std-ref">build_qt.py</span></a> tool (q.v.). For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux</span>
<span class="nv">$CAMCOPS_SOURCE_DIR</span>/tablet_qt/tools/build_qt.py --build_all
</pre></div>
</div>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="c1">REM Windows</span>
python <span class="nv">%CAMCOPS_SOURCE_DIR%</span>/tablet_qt/tools/build_qt.py --build_all
</pre></div>
</div>
<div class="section" id="troubleshooting">
<h3>16.2.2.1. Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h3>
<p><strong>Problem (Windows):</strong> <code class="docutils literal notranslate"><span class="pre">fatal</span> <span class="pre">error</span> <span class="pre">C1041:</span> <span class="pre">cannot</span> <span class="pre">open</span> <span class="pre">program</span> <span class="pre">database</span>
<span class="pre">'...\openssl-1.1.0g\app.pdb';</span> <span class="pre">if</span> <span class="pre">multiple</span> <span class="pre">CL.EXE</span> <span class="pre">write</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">.PDB</span> <span class="pre">file,</span>
<span class="pre">please</span> <span class="pre">use</span> <span class="pre">/FS</span></code></p>
<p>… even when <code class="docutils literal notranslate"><span class="pre">-FS</span></code> is in use via <a class="reference external" href="https://wiki.qt.io/Jom">jom</a>.</p>
<p><strong>Solution:</strong> just run <code class="docutils literal notranslate"><span class="pre">build_qt.py</span></code> again; this error usually goes away.
Presumably the Qt <a class="reference external" href="https://wiki.qt.io/Jom">jom</a> tool doesn’t always get things quite right with Visual
C++, and this error reflects parallel compilation processes clashing
occasionally. It’s definitely worth persisting, because Jom saves no end of
time.</p>
<p>If it fails repeatedly, add the <code class="docutils literal notranslate"><span class="pre">--nparallel</span> <span class="pre">1</span></code> option. (It seems to be the
OpenSSL build that’s prone to failing; you can always interrupt the program
after OpenSSL has finished, and use the full number of CPU cores for the much
longer Qt build.)</p>
</div>
</div>
<div class="section" id="run-and-set-up-qt-creator">
<h2>16.2.3. Run and set up Qt Creator<a class="headerlink" href="#run-and-set-up-qt-creator" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Run Qt Creator.</strong></li>
<li>If you are compiling for Android:<ul>
<li>Install the <a class="reference external" href="https://developer.android.com/studio/">Android SDK</a> and the <a class="reference external" href="https://developer.android.com/ndk/">Android NDK</a>.</li>
<li>Configure your Android SDK/NDK and Java JDK at: <span class="menuselection">Tools ‣
Options ‣ Android</span>, or in newer versions of Qt Creator,
<span class="menuselection">Tools ‣ Options ‣ Devices ‣ Android ‣ Android
Settings</span>.</li>
</ul>
</li>
<li>Proceed with the instructions below.</li>
</ul>
</div>
<div class="section" id="qt-versions">
<h2>16.2.4. Qt versions<a class="headerlink" href="#qt-versions" title="Permalink to this headline">¶</a></h2>
<p>See <span class="menuselection">Tools ‣ Options ‣ Kits ‣ Qt Versions</span>.</p>
<p>Assuming you set your qt_local_build directory to <code class="docutils literal notranslate"><span class="pre">~/dev/qt_local_build</span></code>, the
<code class="docutils literal notranslate"><span class="pre">build_qt.py</span></code> script should have generated a series of <code class="docutils literal notranslate"><span class="pre">qmake</span></code> (or, under
Windows, <code class="docutils literal notranslate"><span class="pre">qmake.exe</span></code>) files within that directory:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operating system</th>
<th class="head">qmake</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Linux 64-bit</td>
<td>qt_linux_x86_64_install/bin/qmake</td>
</tr>
<tr class="row-odd"><td>Android (ARM)</td>
<td>qt_android_armv7_install/bin/qmake</td>
</tr>
<tr class="row-even"><td>Android emulator</td>
<td>qt_android_x86_32_install/bin/qmake</td>
</tr>
<tr class="row-odd"><td>Mac OS/X 64-bit</td>
<td>qt_osx_x86_64_install/bin/qmake</td>
</tr>
<tr class="row-even"><td>iOS (ARM)</td>
<td>qt_ios_armv8_64_install/bin/qmake</td>
</tr>
<tr class="row-odd"><td>iOS Simulator</td>
<td>qt_ios_x86_64_install/bin/qmake</td>
</tr>
<tr class="row-even"><td>Windows 32-bit</td>
<td>qt_windows_x86_32_install/bin/qmake</td>
</tr>
<tr class="row-odd"><td>Windows 64-bit</td>
<td>qt_windows_x86_64_install/bin/qmake</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="qt-kits">
<h2>16.2.5. Qt kits<a class="headerlink" href="#qt-kits" title="Permalink to this headline">¶</a></h2>
<p>See <span class="menuselection">Tools ‣ Options ‣ Kits ‣ Kits</span>.</p>
<p>Options last checked against Qt Creator 4.6.2 (built June 2018).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you did not install a version of Qt with Qt Creator, pick one of your
own kits and choose “Make Default”. Otherwise you will get the error
<code class="docutils literal notranslate"><span class="pre">Could</span> <span class="pre">not</span> <span class="pre">find</span> <span class="pre">qmake</span> <span class="pre">spec</span> <span class="pre">'default'.</span></code> (e.g. in the General Messages tab
when you open your application) and the <code class="docutils literal notranslate"><span class="pre">..pro</span></code> (project) file will not
parse. See <a class="reference external" href="https://stackoverflow.com/questions/27524680">https://stackoverflow.com/questions/27524680</a>.</p>
</div>
<p><strong>Custom_Linux_x86_64</strong></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Option</th>
<th class="head">Setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">Name</th>
<td><code class="docutils literal notranslate"><span class="pre">Custom_Linux_x86_64</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">File system name</th>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">Device type</th>
<td>Desktop</td>
</tr>
<tr class="row-odd"><th class="stub">Device</th>
<td>Local PC (default for Desktop)</td>
</tr>
<tr class="row-even"><th class="stub">Sysroot</th>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">Compiler: C</th>
<td>GCC (C, x86 64bit in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>)</td>
</tr>
<tr class="row-even"><th class="stub">Compiler: C++</th>
<td>GCC (x86 64bit in <code class="docutils literal notranslate"><span class="pre">/usr/bin</span></code>)</td>
</tr>
<tr class="row-odd"><th class="stub">Environment</th>
<td>[not editable: “No changes to apply.”]</td>
</tr>
<tr class="row-even"><th class="stub">Debugger</th>
<td>System GDB at <code class="docutils literal notranslate"><span class="pre">/usr/bin/gdb</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">Qt version</th>
<td><strong>THE “LINUX 64-BIT” ONE FROM QT VERSIONS, ABOVE</strong></td>
</tr>
<tr class="row-even"><th class="stub">Qt mkspec</th>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Tool</th>
<td>System CMake at <code class="docutils literal notranslate"><span class="pre">/usr/bin/cmake</span></code></td>
</tr>
<tr class="row-even"><th class="stub">CMake Generator</th>
<td>CodeBlocks - Unix Makefiles</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Configuration</th>
<td>[not editable]</td>
</tr>
<tr class="row-even"><th class="stub">Additional Qbs Profile Settings</th>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Custom_Android_ARM</strong></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Option</th>
<th class="head">Setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">Name</th>
<td><code class="docutils literal notranslate"><span class="pre">Custom_Android_ARM</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">File system name</th>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">Device type</th>
<td>Android Device</td>
</tr>
<tr class="row-odd"><th class="stub">Device</th>
<td>Run on Android (default for Android)</td>
</tr>
<tr class="row-even"><th class="stub">Sysroot</th>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">Compiler: C</th>
<td>&lt;No compiler&gt;</td>
</tr>
<tr class="row-even"><th class="stub">Compiler: C++</th>
<td>Android GCC (arm-4.9)</td>
</tr>
<tr class="row-odd"><th class="stub">Environment</th>
<td>[not editable: “No changes to apply.”]</td>
</tr>
<tr class="row-even"><th class="stub">Debugger</th>
<td>Android Debugger for Android GCC (arm-4.9)</td>
</tr>
<tr class="row-odd"><th class="stub">Qt version</th>
<td><strong>THE “ANDROID” ONE FROM QT VERSIONS, ABOVE</strong></td>
</tr>
<tr class="row-even"><th class="stub">Qt mkspec</th>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Tool</th>
<td>System CMake at <code class="docutils literal notranslate"><span class="pre">/usr/bin/cmake</span></code></td>
</tr>
<tr class="row-even"><th class="stub">CMake Generator</th>
<td>CodeBlocks - Unix Makefiles</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Configuration</th>
<td>[not editable]</td>
</tr>
<tr class="row-even"><th class="stub">Additional Qbs Profile Settings</th>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Custom_Android_x86</strong> – NOT FULLY TESTED</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Option</th>
<th class="head">Setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">Name</th>
<td><code class="docutils literal notranslate"><span class="pre">Custom_Android_x86</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">File system name</th>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">Device type</th>
<td>Android Device</td>
</tr>
<tr class="row-odd"><th class="stub">Device</th>
<td>Run on Android (default for Android)</td>
</tr>
<tr class="row-even"><th class="stub">Sysroot</th>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">Compiler: C</th>
<td>&lt;No compiler&gt;</td>
</tr>
<tr class="row-even"><th class="stub">Compiler: C++</th>
<td>Android GCC (i686-4.9)</td>
</tr>
<tr class="row-odd"><th class="stub">Environment</th>
<td>[not editable: “No changes to apply.”]</td>
</tr>
<tr class="row-even"><th class="stub">Debugger</th>
<td>Android Debugger for Android GCC (i686-4.9)</td>
</tr>
<tr class="row-odd"><th class="stub">Qt version</th>
<td><strong>THE “ANDROID EMULATOR” ONE FROM QT VERSIONS, ABOVE</strong></td>
</tr>
<tr class="row-even"><th class="stub">Qt mkspec</th>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Tool</th>
<td>System CMake at <code class="docutils literal notranslate"><span class="pre">/usr/bin/cmake</span></code></td>
</tr>
<tr class="row-even"><th class="stub">CMake Generator</th>
<td>CodeBlocks - Unix Makefiles</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Configuration</th>
<td>[not editable]</td>
</tr>
<tr class="row-even"><th class="stub">Additional Qbs Profile Settings</th>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>Custom_Windows_x86_64</strong></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Option</th>
<th class="head">Setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">Name</th>
<td><code class="docutils literal notranslate"><span class="pre">Custom_Windows_x86_64</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">File system name</th>
<td>&#160;</td>
</tr>
<tr class="row-even"><th class="stub">Device type</th>
<td>Desktop</td>
</tr>
<tr class="row-odd"><th class="stub">Device</th>
<td>Local PC (default for Desktop)</td>
</tr>
<tr class="row-even"><th class="stub">Sysroot</th>
<td><code class="docutils literal notranslate"><span class="pre">[...]\qt_local_build\qt_windows_x86_64_install\bin</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">Compiler: C</th>
<td>Microsoft Visual C++ Compiler 14.0 (amd64)</td>
</tr>
<tr class="row-even"><th class="stub">Compiler: C++</th>
<td>Microsoft Visual C++ Compiler 14.0 (amd64)</td>
</tr>
<tr class="row-odd"><th class="stub">Environment</th>
<td>[not editable: “No changes to apply.”]</td>
</tr>
<tr class="row-even"><th class="stub">Debugger</th>
<td>Auto-detected CDB at <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\Windows</span> <span class="pre">Kits\10\Debuggers\x64\cdb.exe</span></code></td>
</tr>
<tr class="row-odd"><th class="stub">Qt version</th>
<td><strong>THE “WINDOWS 64-BIT” ONE FROM QT VERSIONS, ABOVE</strong></td>
</tr>
<tr class="row-even"><th class="stub">Qt mkspec</th>
<td>&#160;</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Tool</th>
<td>System CMake at <code class="docutils literal notranslate"><span class="pre">C:\Program</span> <span class="pre">Files</span> <span class="pre">(x86)\CMake\bin\cmake.exe</span></code></td>
</tr>
<tr class="row-even"><th class="stub">CMake Generator</th>
<td>CodeBlocks - MinGW Makefiles, Platform: &lt;none&gt;, Toolset: &lt;none&gt;</td>
</tr>
<tr class="row-odd"><th class="stub">CMake Configuration</th>
<td><code class="docutils literal notranslate"><span class="pre">CMAKE_CXX_COMPILER:STRING=%{Compiler:Executable:Cxx}</span></code>
<code class="docutils literal notranslate"><span class="pre">CMAKE_C_COMPILER:STRING=%{Compiler:Executable:C}</span></code>
<code class="docutils literal notranslate"><span class="pre">CMAKE_PREFIX_PATH:STRING=%{Qt:QT_INSTALL_PREFIX}</span></code>
<code class="docutils literal notranslate"><span class="pre">QT_QMAKE_EXECUTABLE:STRING=%{Qt:qmakeExecutable}</span></code></td>
</tr>
<tr class="row-even"><th class="stub">Additional Qbs Profile Settings</th>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="build-settings">
<h2>16.2.6. Build settings<a class="headerlink" href="#build-settings" title="Permalink to this headline">¶</a></h2>
<p>… let’s put them in a <code class="docutils literal notranslate"><span class="pre">camcops.pro.shared</span></code> file:
<a class="reference external" href="http://doc.qt.io/qtcreator/creator-sharing-project-settings.html">http://doc.qt.io/qtcreator/creator-sharing-project-settings.html</a></p>
<div class="section" id="general">
<h3>16.2.6.1. General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Open the <code class="docutils literal notranslate"><span class="pre">camcops.pro</span></code> project file in Qt Creator.</li>
<li>Add your chosen kit(s) to the CamCOPS project.</li>
<li>Use defaults, except everywhere you see <span class="menuselection">Build Settings ‣
Build Steps ‣ Make ‣ Make arguments</span>, add <code class="docutils literal notranslate"><span class="pre">-j</span> <span class="pre">8</span></code> for an
8-CPU machine to get it compiling in parallel.<ul>
<li>To save this effort, set <code class="docutils literal notranslate"><span class="pre">MAKEFLAGS=&quot;-j8&quot;</span></code> in your user environment (e.g.
in <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code>, or <code class="docutils literal notranslate"><span class="pre">~/.profile</span></code>); see
<a class="reference external" href="https://stackoverflow.com/questions/8860712/setting-default-make-options-for-qt-creator">https://stackoverflow.com/questions/8860712/setting-default-make-options-for-qt-creator</a>.
HOWEVER, Qt Creator doesn’t seem to read that environment variable for me.
Not sure why!</li>
</ul>
</li>
<li>Build.</li>
</ul>
</div>
<div class="section" id="android">
<h3>16.2.6.2. Android<a class="headerlink" href="#android" title="Permalink to this headline">¶</a></h3>
<p>Under <span class="menuselection">Project ‣ Build Settings ‣ Build Steps ‣ Build
Android APK</span>:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Option</th>
<th class="head">Setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub"><span class="menuselection">Application ‣ Android build SDK</span></th>
<td><strong>PREVIOUSLY:</strong> android-23 [= default].
<strong>NOW:</strong> android-28 [= default].</td>
</tr>
<tr class="row-odd"><th class="stub"><span class="menuselection">Sign package ‣ Keystore</span></th>
<td><code class="docutils literal notranslate"><span class="pre">~/Documents/CamCOPS/android_keystore/CAMCOPS_ANDROID_KEYSTORE.keystore</span></code>
[NB not part of published code, obviously!]</td>
</tr>
<tr class="row-even"><th class="stub"><span class="menuselection">Sign package ‣ Sign package</span></th>
<td>Yes (at least for release versions)</td>
</tr>
<tr class="row-odd"><th class="stub"><span class="menuselection">Advanced actions ‣ Use Ministro service to
install Qt</span></th>
<td>Do NOT tick. (Formerly, before 2018-06-25, this was
<span class="menuselection">Qt deployment ‣ Bundle Qt libraries in APK</span>. The
objective remains to bundle Qt, not to install it via Ministro.)</td>
</tr>
<tr class="row-even"><th class="stub">Additional libraries</th>
<td><code class="docutils literal notranslate"><span class="pre">~/dev/qt_local_build/openssl_android_armv7_build/openssl-1.1.0g/libcrypto.so</span></code>
<code class="docutils literal notranslate"><span class="pre">~/dev/qt_local_build/openssl_android_armv7_build/openssl-1.1.0g/libssl.so</span></code></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Then in the file <code class="docutils literal notranslate"><span class="pre">AndroidManifest.xml</span></code> (which Qt Creator has a custom editor
for):</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head stub">Option</th>
<th class="head">Setting</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><th class="stub">Package name</th>
<td>org.camcops.camcops</td>
</tr>
<tr class="row-odd"><th class="stub">Version code</th>
<td>[integer; may as well use consecutive]</td>
</tr>
<tr class="row-even"><th class="stub">Version name</th>
<td>[string]</td>
</tr>
<tr class="row-odd"><th class="stub">Minimum required SDK</th>
<td>API 16: Android 4.1, 4.1.1 [default]</td>
</tr>
<tr class="row-even"><th class="stub">Target SDK</th>
<td><strong>WAS:</strong> API 23: Android 6.0 [default].
<strong>AS OF 2018-06-25:</strong> API 26: Android 8.0 [Google Play Store
requires this soon].
<strong>DOWNGRADED AGAIN 2018-07-16: OpenSSL problems.</strong> Probably because
you have to rebuild OpenSSL for Android (see
<code class="docutils literal notranslate"><span class="pre">DEFAULT_ANDROID_API_NUM</span></code> in <code class="docutils literal notranslate"><span class="pre">build_qt.py</span></code>).</td>
</tr>
<tr class="row-odd"><th class="stub">Application name</th>
<td>CamCOPS</td>
</tr>
<tr class="row-even"><th class="stub">Activity name</th>
<td>CamCOPS</td>
</tr>
<tr class="row-odd"><th class="stub">Run</th>
<td>camcops</td>
</tr>
<tr class="row-even"><th class="stub">Application icon</th>
<td>[icon]</td>
</tr>
<tr class="row-odd"><th class="stub">Include default permissions for Qt modules</th>
<td>[tick]</td>
</tr>
<tr class="row-even"><th class="stub">Include default features for Qt modules</th>
<td>[tick]</td>
</tr>
<tr class="row-odd"><th class="stub">Boxes for other permissions</th>
<td>[no other specific permission requested]</td>
</tr>
</tbody>
</table>
<p>But then you must also edit <code class="docutils literal notranslate"><span class="pre">AndroidManifest.xml</span></code> manually to include the
line:</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;meta-data android:name=&quot;android.app.load_local_libs&quot; android:value=&quot;-- %%INSERT_LOCAL_LIBS%% --:lib/libssl.so:lib/libcrypto.so&quot;/&gt;
Note this bit:                                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p>For versions, see:</p>
<ul class="simple">
<li><a class="reference external" href="https://developer.android.com/guide/topics/manifest/manifest-element.html">https://developer.android.com/guide/topics/manifest/manifest-element.html</a></li>
<li><a class="reference external" href="https://developer.android.com/studio/publish/versioning.html">https://developer.android.com/studio/publish/versioning.html</a></li>
</ul>
<p>If you run this without a keystore, it produces a debug build (e.g.
<code class="docutils literal notranslate"><span class="pre">QtApp-debug.apk</span></code>). If you run it with a keystore/signature, it produces
<code class="docutils literal notranslate"><span class="pre">android-build-release-signed.apk</span></code> (formerly <code class="docutils literal notranslate"><span class="pre">QtApp-release-signed.apk</span></code>).
The APK name is fixed at this point
(<a class="reference external" href="https://forum.qt.io/topic/43329/qt-5-3-1-qtcreator-rename-qtapp-debug-apk-to-myapp">https://forum.qt.io/topic/43329/qt-5-3-1-qtcreator-rename-qtapp-debug-apk-to-myapp</a>).
We can rename the APK if we want, or just upload to Google Play, distribute,
etc.</p>
</div>
<div class="section" id="id1">
<h3>16.2.6.3. Linux<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Under <span class="menuselection">Build Settings ‣ Build Environment`</span>, set e.g.
<code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH=/home/rudolf/dev/qt_local_build/openssl_linux_x86_64_build/openssl-1.1.0g/</span></code></p>
</div>
</div>
<div class="section" id="google-play-store-settings">
<h2>16.2.7. Google Play Store settings<a class="headerlink" href="#google-play-store-settings" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Developer URL is <a class="reference external" href="https://play.google.com/apps/publish">https://play.google.com/apps/publish</a>
<span class="menuselection">‣ pick your application
‣ e.g. Release management / App releases</span></p>
</li>
<li><p class="first">App category: “Utility/other”.</p>
</li>
<li><p class="first">Content rating: by Google’s definitions, CamCOPS hits criteria for references
to illegal drugs (e.g. Deakin1HealthReview, and when strings are available,
the various drug abuse scoring scales). Did not meet Google Play’s criteria
for sex, violence, etc.</p>
</li>
<li><p class="first">Note that “Pending publication” means you’re waiting for Google Play to sort
itself out, not that you have to do anything.</p>
</li>
<li><p class="first">Note re versions:</p>
<ul class="simple">
<li>As above, the AndroidManifest.xml has an INTEGER version, so we may as
well use consecutive numbers. See the release history below.</li>
</ul>
<p>The Google Developer site will check the version codes.
Failed uploads can sometimes block that version number.</p>
</li>
<li><p class="first">You upload a new version with <span class="menuselection">App releases ‣ Create
Release</span>.</p>
</li>
<li><p class="first">Note also that if you try to install the .apk directly to a device that’s
had an installation from Google Play Store, you’ll get the error
INSTALL_FAILED_UPDATE_INCOMPATIBLE (I think). Or if you mix debug/release
versions.</p>
</li>
<li><p class="first">Finally, note that there can be a significant delay between uploading a new
release and client devices seeing it on Google Play (or even being able to
see it at <a class="reference external" href="https://play.google.com/store">https://play.google.com/store</a>, or via the direct link at
<a class="reference external" href="https://play.google.com/store/apps/details?id=org.camcops.camcops">https://play.google.com/store/apps/details?id=org.camcops.camcops</a>). Perhaps
10 minutes to the main web site?</p>
</li>
</ul>
</div>
<div class="section" id="google-play-store-release-history">
<h2>16.2.8. Google Play Store release history<a class="headerlink" href="#google-play-store-release-history" title="Permalink to this headline">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="23%" />
<col width="23%" />
<col width="19%" />
<col width="10%" />
<col width="10%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Google Play
Store release
name</th>
<th class="head">AndroidManifest.xml
version code</th>
<th class="head">AndroidManifest.xml
name</th>
<th class="head">To Play Store on</th>
<th class="head">Minimum
Android
API</th>
<th class="head">Target
Android
API</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>2.0.1 (beta)</td>
<td>2</td>
<td>2.0.1</td>
<td>2017-08-04</td>
<td>16</td>
<td>23</td>
</tr>
<tr class="row-odd"><td>2.0.4 (beta)</td>
<td>3</td>
<td>2.0.4</td>
<td>2017-10-22</td>
<td>16</td>
<td>23</td>
</tr>
<tr class="row-even"><td>2.2.3 (beta)</td>
<td>5</td>
<td>2.2.3</td>
<td>2018-06-25</td>
<td>16</td>
<td>26</td>
</tr>
<tr class="row-odd"><td>2.2.4 (beta)</td>
<td>6</td>
<td>2.2.4</td>
<td>2018-07-18</td>
<td>23</td>
<td>26</td>
</tr>
<tr class="row-even"><td>2.2.6 (beta)</td>
<td>7</td>
<td>2.2.6</td>
<td>2018-07-31</td>
<td>23</td>
<td>26</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="notes">
<h2>16.2.9. Notes<a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="version-constraints-for-third-party-software">
<h3>16.2.9.1. Version constraints for third-party software<a class="headerlink" href="#version-constraints-for-third-party-software" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>OpenSSL 1.0.x has long-term support and 1.1.x is the current release.</li>
<li>OpenSSL 1.0.2h didn’t compile under 64-bit Windows, whereas OpenSSL 1.1.x
did.</li>
<li>OpenSSL 1.1.x requires Qt 5.10 or higher
(<a class="reference external" href="https://bugreports.qt.io/browse/QTBUG-52905">https://bugreports.qt.io/browse/QTBUG-52905</a>).</li>
<li>SQLCipher supports OpenSSL 1.1.0 as of SQLCipher 3.4.1
(<a class="reference external" href="https://discuss.zetetic.net/t/sqlcipher-3-4-1-release/1962">https://discuss.zetetic.net/t/sqlcipher-3-4-1-release/1962</a>).</li>
<li>Qt requires Android API ≥16 (<a class="reference external" href="http://doc.qt.io/qt-5/android-support.html">http://doc.qt.io/qt-5/android-support.html</a>).</li>
<li>Qt 5.11.1 does not compile with the <code class="docutils literal notranslate"><span class="pre">android-16</span></code> toolchain (specifically
its Bluetooth components). Qt looks for a Java package
<code class="docutils literal notranslate"><span class="pre">android.bluetooth.le</span></code>, which is the Bluetooth Low Energy component that
comes with Android SDK 18. So let’s try 18 as the minimum. That does compile.</li>
<li>Android libraries should be compiled for the same SDK version as
<code class="docutils literal notranslate"><span class="pre">minSdkVersion</span></code> in <code class="docutils literal notranslate"><span class="pre">AndroidManifest.xml</span></code> (see
<a class="reference external" href="https://stackoverflow.com/questions/21888052/what-is-the-relation-between-app-platform-androidminsdkversion-and-androidtar/41079462#41079462">https://stackoverflow.com/questions/21888052/what-is-the-relation-between-app-platform-androidminsdkversion-and-androidtar/41079462#41079462</a>,
and <a class="reference external" href="https://developer.android.com/ndk/guides/stable_apis">https://developer.android.com/ndk/guides/stable_apis</a>).</li>
<li>For whatever reasons, CamCOPS (v2.2.3-2.2.4) doesn’t run on Android 4.4.x
(API 18) but does run on 6.0 (API 23); intermediates untested.</li>
<li>Google Play store will require <code class="docutils literal notranslate"><span class="pre">targetSdkVersion</span></code> to be at least 26 from
2018-11-01
(<a class="reference external" href="https://developer.android.com/distribute/best-practices/develop/target-sdk">https://developer.android.com/distribute/best-practices/develop/target-sdk</a>).</li>
<li>Qt favour Android NDK r10e (the May 2015 release)
(<a class="reference external" href="http://doc.qt.io/qt-5/androidgs.html">http://doc.qt.io/qt-5/androidgs.html</a>) but r11c also seems to work fine.</li>
</ul>
</div>
<div class="section" id="id2">
<h3>16.2.9.2. Android<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Above Android API 23, linking to non-public libraries is prohibited, possibly
with exceptions for SSL/crypto.</p>
<ul class="simple">
<li><a class="reference external" href="https://android-developers.googleblog.com/2016/06/android-changes-for-ndk-developers.html">https://android-developers.googleblog.com/2016/06/android-changes-for-ndk-developers.html</a></li>
<li><a class="reference external" href="https://developer.android.com/about/versions/nougat/android-7.0-changes#ndk">https://developer.android.com/about/versions/nougat/android-7.0-changes#ndk</a></li>
</ul>
<p>I think this caused fatal problems for CamCOPS in 2018-07; not sure, but this
might explain it.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">Error:</span> <span class="pre">&quot;unsupported_android_version&quot;</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">translated</span></code>: see
<a class="reference external" href="https://bugreports.qt.io/browse/QTBUG-63952">https://bugreports.qt.io/browse/QTBUG-63952</a>. This error does not prevent you
from continuing.</p>
</li>
</ul>
</div>
<div class="section" id="debugging">
<h3>16.2.9.3. Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">DON’T FORGET to set up both Debug and Release (+/- Profile) builds.</p>
</li>
<li><p class="first">Phone USB debugging negotiation sometimes takes a while. On the Samsung
Galaxy phone, the alert light goes red when in Debug mode.</p>
</li>
<li><p class="first">If a USB Android device appears not to connect (via <code class="docutils literal notranslate"><span class="pre">adb</span> <span class="pre">devices</span></code>), appears
then disappears as you connect it (via <code class="docutils literal notranslate"><span class="pre">lsusb</span> <span class="pre">|</span> <span class="pre">wc</span></code>), and gives the
<code class="docutils literal notranslate"><span class="pre">dmesg</span></code> error <code class="docutils literal notranslate"><span class="pre">device</span> <span class="pre">descriptor</span> <span class="pre">read/64,</span> <span class="pre">error</span> <span class="pre">-71</span></code> or similar, try a
different cable (see
<a class="reference external" href="https://stackoverflow.com/questions/9544557/debian-device-descriptor-read-64-error-71">https://stackoverflow.com/questions/9544557/debian-device-descriptor-read-64-error-71</a>);
try also plugging it directly into the computer’s USB ports rather than
through a hub.</p>
</li>
<li><p class="first">If you lose the debugger windows in Qt Creator midway through a debug
session, press Ctrl-4.</p>
</li>
<li><p class="first">This error (with a variety of compiler names):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.../mkspecs/features/toolchain.prf(50): system(execute) requires one or two arguments.
Project ERROR: Cannot run compiler &#39;g++&#39;. Maybe you forgot to setup the environment?
</pre></div>
</div>
<p>means that you need to re-run qmake manually. It usually occurs if you delete
your build* directories.</p>
</li>
<li><p class="first">For debugging, consider install <a class="reference external" href="http://valgrind.org/">Valgrind</a>: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">valgrind</span></code></p>
</li>
</ul>
</div>
<div class="section" id="oddities">
<h3>16.2.9.4. Oddities<a class="headerlink" href="#oddities" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Sometimes you have to restart Qt creator after creating new build settings;
it loses its .pro file and won’t show the project, or complains of a missing
.pro file when you try to build.</li>
<li>The first build can be very slow as it compiles all the resources; this
usually looks like a process stuck compiling qrc_camcops.cpp to qrc_camcops.o</li>
<li>If builds are very slow, you may have forgotten to use all your CPU cores;
try e.g. <code class="docutils literal notranslate"><span class="pre">-j</span> <span class="pre">8</span></code> (for 8 cores) as an argument to make, as above.</li>
<li>If an Android build fails for a bizarre reason (like garbage in a .java file
that looks like it’s been pre-supplied), delete the whole build directory,
which is not always removed by cleaning.</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/download.html">2. Downloading CamCOPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client/client_installation.html">3. Installing and configuring the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client/client_using.html">4. Using the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/server_front_end_general.html">5. Web site: general use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks/_tasks_by_category.html">6. Tasks in CamCOPS by category</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks/_tasks_all.html">7. All tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client/client_troubleshooting.html">8. Troubleshooting client problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/server_installation.html">9. Installing CamCOPS on the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/server_configuration.html">10. Configuring the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/server_config_file.html">11. The CamCOPS server configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/server_front_end_admin.html">12. Web site: admin functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/server_command_line.html">13. CamCOPS command-line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/server_troubleshooting.html">14. Troubleshooting server problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licences/licences.html">15. Licences</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">16. Developer notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="creating_tasks.html">16.1. Creating tasks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">16.2. Building the CamCOPS client</a></li>
<li class="toctree-l2"><a class="reference internal" href="cpp_code_style.html">16.3. C++ code style used</a></li>
<li class="toctree-l2"><a class="reference internal" href="design_notes.html">16.4. Design notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="development_command_line.html">16.5. Development command-line tools</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../misc/tcpip_ports.html">17. Common relevant TCP/IP ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/linux_flavours.html">18. Linux flavours</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autodoc/_index.html">19. Automatic documentation of core server source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">20. Change log/history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq_known_problems.html">21. FAQ and known problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../to_do.html">22. Things to do</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wishlist.html">23. Wishlist and blue-sky thoughts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/local_info.html">24. Local configuration information</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="creating_tasks.html"
                        title="previous chapter">16.1. Creating tasks</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cpp_code_style.html"
                        title="next chapter">16.3. C++ code style used</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/developer/building_client.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cpp_code_style.html" title="16.3. C++ code style used"
             >next</a> |</li>
        <li class="right" >
          <a href="creating_tasks.html" title="16.1. Creating tasks"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CamCOPS 2.2.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >16. Developer notes</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012-2018, Rudolf Cardinal.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>