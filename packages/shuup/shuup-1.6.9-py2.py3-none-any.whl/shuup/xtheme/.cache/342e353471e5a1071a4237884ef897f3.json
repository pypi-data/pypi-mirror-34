{"id":"AxK9","dependencies":[{"name":"/Users/panu/shuup-dev/shuup-packages/shuup/shuup/admin/package.json","includedInParent":true,"mtime":1533591255729},{"name":"/Users/panu/shuup-dev/shuup-packages/shuup/shuup/xtheme/package.json","includedInParent":true,"mtime":1533591255762}],"generated":{"js":"window.BrowseAPI=function(){var e={};return window.addEventListener(\"message\",function(t){var n=t.data;if(n.pick){var i=e[n.pick.id];if(i){i.popup.close();var o=n.pick.object;o&&(_.isFunction(i.onSelect)&&i.onSelect.call(this,o),delete e[n.pick.id])}}},!1),{openBrowseWindow:function(t){var n=t.filter,i=t.disabledMenus,o=t.kind,r=window.ShuupAdminConfig.browserUrls[o];if(!r)throw new Error(gettext(\"No browser URL for kind:\")+\" \"+o);\"string\"!=typeof n&&(n=JSON.stringify(n));var s=\"m-\"+ +new Date,d=_.compact([\"popup=1\",\"kind=\"+o,\"pick=\"+s,n?\"filter=\"+n:null,i?\"disabledMenus=\"+i.join(\",\"):null]).join(\"&\"),c=window.open(r+(r.indexOf(\"?\")>-1?\"&\":\"?\")+d,\"browser_popup_\"+s,\"resizable,menubar=no,location=no,scrollbars=yes\");return e[s]=_.extend({popup:c,$container:null,onSelect:null},t)}}}(),$(function(){$(document).on(\"click\",\".browse-widget .browse-btn\",function(){var e=$(this).closest(\".browse-widget\");if(e.length){var t=e.data(\"browse-kind\"),n=e.data(\"filter\");try{return window.BrowseAPI.openBrowseWindow({kind:t,filter:n,onSelect:function(t){e.find(\"input\").val(t.id);var n=e.find(\".browse-text\");n.text(t.text),n.prop(\"href\",t.url||\"#\")}})}catch(e){return alert(e),!1}}}),$(document).on(\"click\",\".browse-widget .clear-btn\",function(){var e=$(this).closest(\".browse-widget\");if(e.length){var t=e.data(\"empty-text\")||\"\";e.find(\"input\").val(\"\");var n=e.find(\".browse-text\");n.text(t),n.prop(\"href\",\"#\")}}),$(document).on(\"click\",\".browse-widget .browse-text\",function(e){var t=$(this).prop(\"href\");if(/#$/.test(t))return e.preventDefault(),!1})});","map":{"mappings":[{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"window","original":{"line":16,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"BrowseAPI","original":{"line":16,"column":7},"generated":{"line":1,"column":7}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":16,"column":20},"generated":{"line":1,"column":17}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browseData","original":{"line":17,"column":10},"generated":{"line":1,"column":28}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browseData","original":{"line":17,"column":10},"generated":{"line":1,"column":32}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":17,"column":23},"generated":{"line":1,"column":34}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":78,"column":11},"generated":{"line":1,"column":37}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"addEventListener","original":{"line":19,"column":11},"generated":{"line":1,"column":44}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"addEventListener","original":{"line":19,"column":11},"generated":{"line":1,"column":51}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":19,"column":28},"generated":{"line":1,"column":68}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":19,"column":39},"generated":{"line":1,"column":78}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"event","original":{"line":19,"column":49},"generated":{"line":1,"column":87}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":20,"column":14},"generated":{"line":1,"column":90}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":20,"column":14},"generated":{"line":1,"column":94}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"event","original":{"line":20,"column":21},"generated":{"line":1,"column":96}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":20,"column":27},"generated":{"line":1,"column":98}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":21,"column":12},"generated":{"line":1,"column":103}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":21,"column":13},"generated":{"line":1,"column":106}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"pick","original":{"line":21,"column":18},"generated":{"line":1,"column":108}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":21,"column":12},"generated":{"line":1,"column":113}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"info","original":{"line":24,"column":14},"generated":{"line":1,"column":114}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"info","original":{"line":24,"column":14},"generated":{"line":1,"column":118}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browseData","original":{"line":24,"column":21},"generated":{"line":1,"column":120}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":24,"column":32},"generated":{"line":1,"column":122}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"pick","original":{"line":24,"column":37},"generated":{"line":1,"column":124}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":24,"column":42},"generated":{"line":1,"column":129}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":25,"column":12},"generated":{"line":1,"column":133}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"info","original":{"line":25,"column":13},"generated":{"line":1,"column":136}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":25,"column":12},"generated":{"line":1,"column":138}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"popup","original":{"line":28,"column":13},"generated":{"line":1,"column":139}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"popup","original":{"line":28,"column":13},"generated":{"line":1,"column":141}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"close","original":{"line":28,"column":19},"generated":{"line":1,"column":147}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":29,"column":14},"generated":{"line":1,"column":155}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":29,"column":14},"generated":{"line":1,"column":159}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":29,"column":20},"generated":{"line":1,"column":161}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"pick","original":{"line":29,"column":25},"generated":{"line":1,"column":163}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"object","original":{"line":29,"column":30},"generated":{"line":1,"column":168}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":30,"column":13},"generated":{"line":1,"column":175}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"_","original":{"line":33,"column":12},"generated":{"line":1,"column":179}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"isFunction","original":{"line":33,"column":14},"generated":{"line":1,"column":181}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"info","original":{"line":33,"column":25},"generated":{"line":1,"column":192}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"onSelect","original":{"line":33,"column":30},"generated":{"line":1,"column":194}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"onSelect","original":{"line":34,"column":17},"generated":{"line":1,"column":205}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"onSelect","original":{"line":34,"column":17},"generated":{"line":1,"column":207}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"call","original":{"line":34,"column":26},"generated":{"line":1,"column":216}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":34,"column":31},"generated":{"line":1,"column":221}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":34,"column":37},"generated":{"line":1,"column":226}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browseData","original":{"line":36,"column":15},"generated":{"line":1,"column":236}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":36,"column":26},"generated":{"line":1,"column":238}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"pick","original":{"line":36,"column":31},"generated":{"line":1,"column":240}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":36,"column":36},"generated":{"line":1,"column":245}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":37,"column":7},"generated":{"line":1,"column":254}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":78,"column":11},"generated":{"line":1,"column":257}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"openBrowseWindow","original":{"line":79,"column":8},"generated":{"line":1,"column":258}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"openBrowseWindow","original":{"line":48,"column":13},"generated":{"line":1,"column":275}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"options","original":{"line":48,"column":30},"generated":{"line":1,"column":284}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":49,"column":12},"generated":{"line":1,"column":287}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":49,"column":12},"generated":{"line":1,"column":291}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"options","original":{"line":49,"column":21},"generated":{"line":1,"column":293}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":49,"column":29},"generated":{"line":1,"column":295}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"disabledMenus","original":{"line":50,"column":14},"generated":{"line":1,"column":302}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"options","original":{"line":50,"column":30},"generated":{"line":1,"column":304}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"disabledMenus","original":{"line":50,"column":38},"generated":{"line":1,"column":306}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":51,"column":14},"generated":{"line":1,"column":320}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"options","original":{"line":51,"column":21},"generated":{"line":1,"column":322}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":51,"column":29},"generated":{"line":1,"column":324}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browserUrl","original":{"line":52,"column":14},"generated":{"line":1,"column":329}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"window","original":{"line":52,"column":27},"generated":{"line":1,"column":331}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"ShuupAdminConfig","original":{"line":52,"column":34},"generated":{"line":1,"column":338}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browserUrls","original":{"line":52,"column":51},"generated":{"line":1,"column":355}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":52,"column":63},"generated":{"line":1,"column":367}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":53,"column":12},"generated":{"line":1,"column":370}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browserUrl","original":{"line":53,"column":13},"generated":{"line":1,"column":374}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":54,"column":18},"generated":{"line":1,"column":376}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":54,"column":18},"generated":{"line":1,"column":382}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"Error","original":{"line":54,"column":22},"generated":{"line":1,"column":386}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"gettext","original":{"line":54,"column":28},"generated":{"line":1,"column":392}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":54,"column":36},"generated":{"line":1,"column":400}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":54,"column":66},"generated":{"line":1,"column":428}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":54,"column":72},"generated":{"line":1,"column":432}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":56,"column":29},"generated":{"line":1,"column":435}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":56,"column":18},"generated":{"line":1,"column":452}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"JSON","original":{"line":57,"column":21},"generated":{"line":1,"column":456}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"JSON","original":{"line":57,"column":21},"generated":{"line":1,"column":458}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"stringify","original":{"line":57,"column":26},"generated":{"line":1,"column":463}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":57,"column":36},"generated":{"line":1,"column":473}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":59,"column":14},"generated":{"line":1,"column":477}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":59,"column":14},"generated":{"line":1,"column":481}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":59,"column":19},"generated":{"line":1,"column":483}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":59,"column":28},"generated":{"line":1,"column":490}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"Date","original":{"line":59,"column":32},"generated":{"line":1,"column":494}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"qs","original":{"line":60,"column":14},"generated":{"line":1,"column":499}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"_","original":{"line":60,"column":19},"generated":{"line":1,"column":501}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"compact","original":{"line":60,"column":21},"generated":{"line":1,"column":503}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":60,"column":29},"generated":{"line":1,"column":511}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":61,"column":12},"generated":{"line":1,"column":512}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":62,"column":12},"generated":{"line":1,"column":522}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":62,"column":22},"generated":{"line":1,"column":530}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":63,"column":12},"generated":{"line":1,"column":532}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":63,"column":22},"generated":{"line":1,"column":540}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":64,"column":13},"generated":{"line":1,"column":542}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":64,"column":22},"generated":{"line":1,"column":544}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":64,"column":34},"generated":{"line":1,"column":554}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":64,"column":43},"generated":{"line":1,"column":556}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"disabledMenus","original":{"line":65,"column":13},"generated":{"line":1,"column":561}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":65,"column":29},"generated":{"line":1,"column":563}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"disabledMenus","original":{"line":65,"column":48},"generated":{"line":1,"column":580}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"join","original":{"line":65,"column":62},"generated":{"line":1,"column":582}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":65,"column":67},"generated":{"line":1,"column":587}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":65,"column":74},"generated":{"line":1,"column":592}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"join","original":{"line":66,"column":11},"generated":{"line":1,"column":599}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":66,"column":16},"generated":{"line":1,"column":604}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"popup","original":{"line":67,"column":14},"generated":{"line":1,"column":609}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"window","original":{"line":67,"column":22},"generated":{"line":1,"column":611}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"open","original":{"line":67,"column":29},"generated":{"line":1,"column":618}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browserUrl","original":{"line":68,"column":12},"generated":{"line":1,"column":623}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browserUrl","original":{"line":68,"column":26},"generated":{"line":1,"column":626}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"indexOf","original":{"line":68,"column":37},"generated":{"line":1,"column":628}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":68,"column":45},"generated":{"line":1,"column":636}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":68,"column":53},"generated":{"line":1,"column":642}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":68,"column":57},"generated":{"line":1,"column":644}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":68,"column":63},"generated":{"line":1,"column":648}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"qs","original":{"line":68,"column":70},"generated":{"line":1,"column":653}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":69,"column":12},"generated":{"line":1,"column":655}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":69,"column":31},"generated":{"line":1,"column":672}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":70,"column":12},"generated":{"line":1,"column":674}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browseData","original":{"line":72,"column":15},"generated":{"line":1,"column":725}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"browseData","original":{"line":72,"column":15},"generated":{"line":1,"column":732}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":72,"column":26},"generated":{"line":1,"column":734}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"_","original":{"line":72,"column":32},"generated":{"line":1,"column":737}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"extend","original":{"line":72,"column":34},"generated":{"line":1,"column":739}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":73,"column":12},"generated":{"line":1,"column":746}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"popup","original":{"line":73,"column":13},"generated":{"line":1,"column":747}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":73,"column":12},"generated":{"line":1,"column":753}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":73,"column":20},"generated":{"line":1,"column":755}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":73,"column":32},"generated":{"line":1,"column":766}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"onSelect","original":{"line":73,"column":38},"generated":{"line":1,"column":771}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":73,"column":48},"generated":{"line":1,"column":780}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"options","original":{"line":74,"column":12},"generated":{"line":1,"column":786}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":16,"column":20},"generated":{"line":1,"column":791}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$","original":{"line":83,"column":0},"generated":{"line":1,"column":794}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":83,"column":2},"generated":{"line":1,"column":796}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"document","original":{"line":84,"column":6},"generated":{"line":1,"column":807}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"document","original":{"line":84,"column":6},"generated":{"line":1,"column":809}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"on","original":{"line":84,"column":16},"generated":{"line":1,"column":819}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":84,"column":19},"generated":{"line":1,"column":822}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":84,"column":28},"generated":{"line":1,"column":830}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":84,"column":58},"generated":{"line":1,"column":859}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":85,"column":14},"generated":{"line":1,"column":870}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":85,"column":14},"generated":{"line":1,"column":874}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$","original":{"line":85,"column":27},"generated":{"line":1,"column":876}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":85,"column":29},"generated":{"line":1,"column":878}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"closest","original":{"line":85,"column":35},"generated":{"line":1,"column":884}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":85,"column":43},"generated":{"line":1,"column":892}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":86,"column":12},"generated":{"line":1,"column":910}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":86,"column":13},"generated":{"line":1,"column":913}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"length","original":{"line":86,"column":24},"generated":{"line":1,"column":915}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":86,"column":12},"generated":{"line":1,"column":922}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":89,"column":14},"generated":{"line":1,"column":923}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":89,"column":14},"generated":{"line":1,"column":927}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":89,"column":21},"generated":{"line":1,"column":929}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":89,"column":32},"generated":{"line":1,"column":931}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":89,"column":37},"generated":{"line":1,"column":936}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":90,"column":14},"generated":{"line":1,"column":951}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":90,"column":23},"generated":{"line":1,"column":953}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":90,"column":34},"generated":{"line":1,"column":955}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":90,"column":39},"generated":{"line":1,"column":960}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":91,"column":12},"generated":{"line":1,"column":970}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"window","original":{"line":92,"column":19},"generated":{"line":1,"column":974}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"window","original":{"line":92,"column":19},"generated":{"line":1,"column":981}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"BrowseAPI","original":{"line":92,"column":26},"generated":{"line":1,"column":988}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"openBrowseWindow","original":{"line":92,"column":36},"generated":{"line":1,"column":998}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":92,"column":53},"generated":{"line":1,"column":1015}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"kind","original":{"line":92,"column":54},"generated":{"line":1,"column":1016}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":92,"column":53},"generated":{"line":1,"column":1021}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"filter","original":{"line":92,"column":60},"generated":{"line":1,"column":1023}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":92,"column":53},"generated":{"line":1,"column":1030}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"onSelect","original":{"line":92,"column":68},"generated":{"line":1,"column":1032}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":92,"column":78},"generated":{"line":1,"column":1041}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":92,"column":79},"generated":{"line":1,"column":1050}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"find","original":{"line":93,"column":27},"generated":{"line":1,"column":1053}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"find","original":{"line":93,"column":27},"generated":{"line":1,"column":1055}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":93,"column":32},"generated":{"line":1,"column":1060}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"val","original":{"line":93,"column":41},"generated":{"line":1,"column":1069}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":93,"column":45},"generated":{"line":1,"column":1073}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"id","original":{"line":93,"column":49},"generated":{"line":1,"column":1075}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$text","original":{"line":94,"column":22},"generated":{"line":1,"column":1079}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$text","original":{"line":94,"column":22},"generated":{"line":1,"column":1083}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":94,"column":30},"generated":{"line":1,"column":1085}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"find","original":{"line":94,"column":41},"generated":{"line":1,"column":1087}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":94,"column":46},"generated":{"line":1,"column":1092}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"text","original":{"line":95,"column":22},"generated":{"line":1,"column":1108}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"text","original":{"line":95,"column":22},"generated":{"line":1,"column":1110}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":95,"column":27},"generated":{"line":1,"column":1115}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"text","original":{"line":95,"column":31},"generated":{"line":1,"column":1117}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"prop","original":{"line":96,"column":22},"generated":{"line":1,"column":1123}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"prop","original":{"line":96,"column":22},"generated":{"line":1,"column":1125}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":96,"column":27},"generated":{"line":1,"column":1130}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"obj","original":{"line":96,"column":35},"generated":{"line":1,"column":1137}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"url","original":{"line":96,"column":39},"generated":{"line":1,"column":1139}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":96,"column":46},"generated":{"line":1,"column":1144}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":98,"column":10},"generated":{"line":1,"column":1152}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"e","original":{"line":98,"column":16},"generated":{"line":1,"column":1158}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":100,"column":19},"generated":{"line":1,"column":1161}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"e","original":{"line":99,"column":18},"generated":{"line":1,"column":1168}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"e","original":{"line":99,"column":18},"generated":{"line":1,"column":1174}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":100,"column":19},"generated":{"line":1,"column":1178}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"document","original":{"line":104,"column":6},"generated":{"line":1,"column":1184}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"document","original":{"line":104,"column":6},"generated":{"line":1,"column":1186}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"on","original":{"line":104,"column":16},"generated":{"line":1,"column":1196}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":104,"column":19},"generated":{"line":1,"column":1199}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":104,"column":28},"generated":{"line":1,"column":1207}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":104,"column":57},"generated":{"line":1,"column":1235}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":105,"column":14},"generated":{"line":1,"column":1246}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":105,"column":14},"generated":{"line":1,"column":1250}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$","original":{"line":105,"column":27},"generated":{"line":1,"column":1252}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":105,"column":29},"generated":{"line":1,"column":1254}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"closest","original":{"line":105,"column":35},"generated":{"line":1,"column":1260}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":105,"column":43},"generated":{"line":1,"column":1268}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":106,"column":12},"generated":{"line":1,"column":1286}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":106,"column":13},"generated":{"line":1,"column":1289}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"length","original":{"line":106,"column":24},"generated":{"line":1,"column":1291}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":106,"column":12},"generated":{"line":1,"column":1298}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"emptyText","original":{"line":109,"column":14},"generated":{"line":1,"column":1299}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"emptyText","original":{"line":109,"column":14},"generated":{"line":1,"column":1303}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":109,"column":26},"generated":{"line":1,"column":1305}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"data","original":{"line":109,"column":37},"generated":{"line":1,"column":1307}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":109,"column":42},"generated":{"line":1,"column":1312}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":109,"column":59},"generated":{"line":1,"column":1327}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"find","original":{"line":110,"column":19},"generated":{"line":1,"column":1330}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"find","original":{"line":110,"column":19},"generated":{"line":1,"column":1332}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":110,"column":24},"generated":{"line":1,"column":1337}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"val","original":{"line":110,"column":33},"generated":{"line":1,"column":1346}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":110,"column":37},"generated":{"line":1,"column":1350}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$text","original":{"line":111,"column":14},"generated":{"line":1,"column":1354}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$text","original":{"line":111,"column":14},"generated":{"line":1,"column":1358}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$container","original":{"line":111,"column":22},"generated":{"line":1,"column":1360}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"find","original":{"line":111,"column":33},"generated":{"line":1,"column":1362}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":111,"column":38},"generated":{"line":1,"column":1367}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"text","original":{"line":112,"column":14},"generated":{"line":1,"column":1383}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"text","original":{"line":112,"column":14},"generated":{"line":1,"column":1385}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"emptyText","original":{"line":112,"column":19},"generated":{"line":1,"column":1390}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"prop","original":{"line":113,"column":14},"generated":{"line":1,"column":1393}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"prop","original":{"line":113,"column":14},"generated":{"line":1,"column":1395}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":113,"column":19},"generated":{"line":1,"column":1400}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":113,"column":27},"generated":{"line":1,"column":1407}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"document","original":{"line":116,"column":6},"generated":{"line":1,"column":1415}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"document","original":{"line":116,"column":6},"generated":{"line":1,"column":1417}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"on","original":{"line":116,"column":16},"generated":{"line":1,"column":1427}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":116,"column":19},"generated":{"line":1,"column":1430}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":116,"column":28},"generated":{"line":1,"column":1438}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":116,"column":59},"generated":{"line":1,"column":1468}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"event","original":{"line":116,"column":68},"generated":{"line":1,"column":1477}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"href","original":{"line":117,"column":14},"generated":{"line":1,"column":1480}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"href","original":{"line":117,"column":14},"generated":{"line":1,"column":1484}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"$","original":{"line":117,"column":21},"generated":{"line":1,"column":1486}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":117,"column":23},"generated":{"line":1,"column":1488}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"prop","original":{"line":117,"column":29},"generated":{"line":1,"column":1494}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":117,"column":34},"generated":{"line":1,"column":1499}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":118,"column":12},"generated":{"line":1,"column":1507}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":118,"column":12},"generated":{"line":1,"column":1510}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"test","original":{"line":118,"column":17},"generated":{"line":1,"column":1515}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"href","original":{"line":118,"column":22},"generated":{"line":1,"column":1520}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":120,"column":19},"generated":{"line":1,"column":1523}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"preventDefault","original":{"line":119,"column":18},"generated":{"line":1,"column":1530}},{"source":"../../../admin/static_src/base/js/browse-widget.js","name":"preventDefault","original":{"line":119,"column":18},"generated":{"line":1,"column":1532}},{"source":"../../../admin/static_src/base/js/browse-widget.js","original":{"line":120,"column":19},"generated":{"line":1,"column":1550}}],"sources":{"../../../admin/static_src/base/js/browse-widget.js":"/**\n * This file is part of Shuup.\n *\n * Copyright (c) 2012-2018, Shuup Inc. All rights reserved.\n *\n * This source code is licensed under the OSL-3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/**\n * Support for media browsing widgets.\n * Currently opens a real, actual, true-to-1998\n * popup window (just like the Django admin, mind)\n * but could just as well use an <iframe> modal.\n */\n\nwindow.BrowseAPI = (function() {\n    const browseData = {};\n\n    window.addEventListener(\"message\", function (event) {\n        const data = event.data;\n        if (!data.pick) {\n            return;\n        }\n        const info = browseData[data.pick.id];\n        if (!info) {\n            return;\n        }\n        info.popup.close();\n        const obj = data.pick.object;\n        if (!obj) {\n            return;\n        }\n        if (_.isFunction(info.onSelect)) {\n            info.onSelect.call(this, obj);\n        }\n        delete browseData[data.pick.id];\n    }, false);\n\n    /**\n     * Open a browsing window with the given options.\n     *\n     * Currently supported options are:\n     * * `kind`: kind string (e.g. \"product\")\n     * * `filter`: filter string (kind-dependent)\n     * * `onSelect`: a function invoked when an object is selected\n     * @return {Object}\n     */\n    function openBrowseWindow(options) {\n        var filter = options.filter;\n        const disabledMenus = options.disabledMenus;\n        const kind = options.kind;\n        const browserUrl = window.ShuupAdminConfig.browserUrls[kind];\n        if (!browserUrl) {\n            throw new Error(gettext(\"No browser URL for kind:\") + \" \" + kind);\n        }\n        if(typeof filter !== \"string\") {\n            filter = JSON.stringify(filter);\n        }\n        const id = \"m-\" + (+new Date);\n        const qs = _.compact([\n            \"popup=1\",\n            \"kind=\" + kind,\n            \"pick=\" + id,\n            (filter ? \"filter=\" + filter : null),\n            (disabledMenus ? \"disabledMenus=\" + disabledMenus.join(\",\") : null)\n        ]).join(\"&\");\n        const popup = window.open(\n            browserUrl + (browserUrl.indexOf(\"?\") > -1 ? \"&\" : \"?\") + qs,\n            \"browser_popup_\" + id,\n            \"resizable,menubar=no,location=no,scrollbars=yes\"\n        );\n        return browseData[id] = _.extend(\n            {popup, $container: null, onSelect: null},\n            options\n        );\n    }\n\n    return {\n        openBrowseWindow\n    };\n}());\n\n$(function() {\n    $(document).on(\"click\", \".browse-widget .browse-btn\", function() {\n        const $container = $(this).closest(\".browse-widget\");\n        if (!$container.length) {\n            return;\n        }\n        const kind = $container.data(\"browse-kind\");\n        const filter = $container.data(\"filter\");\n        try {\n            return window.BrowseAPI.openBrowseWindow({kind, filter, onSelect: (obj) => {\n                $container.find(\"input\").val(obj.id);\n                const $text = $container.find(\".browse-text\");\n                $text.text(obj.text);\n                $text.prop(\"href\", obj.url || \"#\");\n            }});\n        } catch(e) {\n            alert(e);\n            return false;\n        }\n    });\n\n    $(document).on(\"click\", \".browse-widget .clear-btn\", function() {\n        const $container = $(this).closest(\".browse-widget\");\n        if (!$container.length) {\n            return;\n        }\n        const emptyText = $container.data(\"empty-text\") || \"\";\n        $container.find(\"input\").val(\"\");\n        const $text = $container.find(\".browse-text\");\n        $text.text(emptyText);\n        $text.prop(\"href\", \"#\");\n    });\n\n    $(document).on(\"click\", \".browse-widget .browse-text\", function(event) {\n        const href = $(this).prop(\"href\");\n        if (/#$/.test(href)) {  // Looks empty, so prevent clicks\n            event.preventDefault();\n            return false;\n        }\n    });\n});\n"},"lineCount":null}},"hash":"2c4353925e43f21e41376bf2e8c655ad","cacheData":{"env":{}}}