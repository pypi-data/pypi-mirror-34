
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>12. Web site: admin functions &#8212; CamCOPS 2.2.4 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/camcops_docs.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="13. CamCOPS command-line tools" href="server_command_line.html" />
    <link rel="prev" title="11. The CamCOPS server configuration file" href="server_config_file.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="server_command_line.html" title="13. CamCOPS command-line tools"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="server_config_file.html" title="11. The CamCOPS server configuration file"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CamCOPS 2.2.4 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="web-site-admin-functions">
<span id="website-admin"></span><h1>12. Web site: admin functions<a class="headerlink" href="#web-site-admin-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="administrative-options-available-for-individual-tasks">
<span id="task-admin"></span><h2>12.1. Administrative options available for individual tasks<a class="headerlink" href="#administrative-options-available-for-individual-tasks" title="Permalink to this headline">¶</a></h2>
<p>In the HTML view of a task, some users will have some of these additional
options, shown at the very bottom:</p>
<div class="section" id="apply-special-note">
<h3>12.1.1. Apply special note<a class="headerlink" href="#apply-special-note" title="Permalink to this headline">¶</a></h3>
<p>This allows you to apply a textual note to a task, which will be displayed
alongside it in the future. (For example, you could use this feature to mark a
task’s content as disputed, if you are prohibited by policy from deleting
data.)</p>
<p>The note will be visible when viewing all predecessor/successor versions of the
same record.</p>
</div>
<div class="section" id="edit-patient-details">
<span id="edit-patient"></span><h3>12.1.2. Edit patient details<a class="headerlink" href="#edit-patient-details" title="Permalink to this headline">¶</a></h3>
<p>This allows you to edit the patient record for this task, and others created
alongside it on the same client device (e.g. if someone has misspelled a name).
The option is only available for finalized tasks.</p>
</div>
<div class="section" id="erase-task-instance">
<h3>12.1.3. Erase task instance<a class="headerlink" href="#erase-task-instance" title="Permalink to this headline">¶</a></h3>
<p>This deletes the task’s data (leaving the empty task structure as a
placeholder). Predecessor/successor versions are also erased. Other tasks for
the same patient will not be affected.</p>
<p>Erasure is prohibited for non-finalized tasks (for one thing, the tablet might
re-upload the record). Finalize the records from the tablet (or, if you
absolutely must, <a class="reference internal" href="#force-finalize"><span class="std std-ref">force-finalize</span></a> them from the server)
first.</p>
<p>When might one want to erase a task? See <a class="reference internal" href="#delete-patient"><span class="std std-ref">Delete patient entirely</span></a>.</p>
</div>
</div>
<div class="section" id="group-administrator-options">
<h2>12.2. Group administrator options<a class="headerlink" href="#group-administrator-options" title="Permalink to this headline">¶</a></h2>
<p>These options, on the main menu, are only available to users who are marked as
administrators for one or more groups.</p>
<div class="section" id="view-manage-users">
<h3>12.2.1. View/manage users<a class="headerlink" href="#view-manage-users" title="Permalink to this headline">¶</a></h3>
<p>Superusers can add, edit, and delete all users.</p>
<p>Group administrators can add users to their group, and edit/delete users who
are in a group that they administer.</p>
<p>More specifically, you may edit any user if you are a superuser. Otherwise, you
may edit a user if (1) they are not a superuser or group administrator, and (2)
you are a group administrator for a group that they’re in.</p>
<p>The following are <em>user</em> attributes:</p>
<ul class="simple">
<li>username</li>
<li>password, and whether this must be changed at next login</li>
<li>full name</li>
<li>email</li>
<li>group membership(s)</li>
<li>which group the user will currently upload into</li>
<li>superuser status</li>
</ul>
<p>The following are attributes of the <em>user—group association</em>, i.e. apply
separately to each group the user is in:</p>
<ul class="simple">
<li>permission to upload from tablets and other client devices</li>
<li>permission to register tablet/client devices</li>
<li>permission to log in to the server’s web front end</li>
<li>permission to browse records from all patients when no patient filter is set
(if disabled, no records appear in this circumstance)</li>
<li>permission to perform bulk research data dumps</li>
<li>permission to run reports</li>
<li>permission to add special notes to tasks</li>
</ul>
<p>When adding a user, make sure you give them permission to log in, for at least
one group, if you want them to be able to use the web front end! (You don’t
have to do this, though – for example, some users may have permission only to
upload from tablets, not use the server web interface.)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Groupadmins can’t currently change passwords for their users, but the
editing screen makes it look like they should. And they should, probably;
that would be tedious for the superuser otherwise. TODO: Fix this.</p>
</div>
</div>
<div class="section" id="delete-patient-entirely">
<span id="delete-patient"></span><h3>12.2.2. Delete patient entirely<a class="headerlink" href="#delete-patient-entirely" title="Permalink to this headline">¶</a></h3>
<p>This allows you to delete a patient (as identified by an ID number of your
choosing) from a specified group. <strong>All tasks belonging to this patient are
deleted.</strong> This operation is IRREVERSIBLE, so a number of confirmation steps
are required.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>When should records be deleted?</strong></p>
<p>This can a complex question. To delete clinical records in the UK, one must
know the age of the records (e.g. destruction after 30 years), but also
factors such as whether the patient had a mental disorder within the
meaning of the Mental Health Act 1983 <a class="footnote-reference" href="#mha" id="id1">[2]</a>, or died whilst in the care
of an NHS organization. See UK Department of Health, 2006, Records
Management: NHS Code of Practice <a class="footnote-reference" href="#nhsrecmancop" id="id2">[3]</a>.</p>
<p>CamCOPS allows you to view records created before a certain date (e.g.
created more than 30 years ago), by specifying a suitable end date in the
search criteria, and for privileged users, this can be done across all
patients.</p>
<p class="last">The other criteria for deletion (e.g. mental disorder, death) are outside
the scope of CamCOPS.</p>
</div>
</div>
<div class="section" id="forcibly-preserve-finalize-records-for-a-device">
<span id="force-finalize"></span><h3>12.2.3. Forcibly preserve/finalize records for a device<a class="headerlink" href="#forcibly-preserve-finalize-records-for-a-device" title="Permalink to this headline">¶</a></h3>
<p>Client devices (tablets, or desktop clients) should finalize their own records.
“Finalizing” means saying to the server “I have finished editing these; they’re
all yours.” Tablets erase tasks locally when they finalize them (to minimize
the amount of information stored on mobile devices), though they sometimes keep
a copy of patient/subject identifiers to save typing later if the same patients
will be re-assessed.</p>
<p>If a device is somehow disrupted – broken, CamCOPS uninstalled, device lost
<a class="footnote-reference" href="#devicelost" id="id3">[1]</a> – then you might need to tell the server that the client will no
longer be editing these data. That’s what “forcibly finalizing” is.</p>
<p>After force-finalizing, the finalized versions will be treated as distinct from
any remaining on the tablet, if the tablet is later rescued.</p>
<p>The option will allow you to proceed even if the patient identification does
not meet the necessary requirements; see also the facility to <a class="reference internal" href="#edit-patient"><span class="std std-ref">edit
patient details, above</span></a>.</p>
</div>
</div>
<div class="section" id="superuser-options">
<h2>12.3. Superuser options<a class="headerlink" href="#superuser-options" title="Permalink to this headline">¶</a></h2>
<p>These options are only available to users with the superuser flag set.</p>
<div class="section" id="view-manage-groups">
<span id="id4"></span><h3>12.3.1. View/manage groups<a class="headerlink" href="#view-manage-groups" title="Permalink to this headline">¶</a></h3>
<p>This option allows you to define ID policies for groups, and to configure which
groups have intrinsic permission to see which other groups (if any). See
<a class="reference internal" href="../introduction/groups.html#groups"><span class="std std-ref">Groups</span></a>.</p>
</div>
<div class="section" id="view-audit-trail">
<h3>12.3.2. View audit trail<a class="headerlink" href="#view-audit-trail" title="Permalink to this headline">¶</a></h3>
<p>View the CamCOPS audit trail (optionally, filtering it according to a range of
criteria).</p>
<p>Internally, this audit trail is stored in the <cite>_security_audit</cite> table.</p>
</div>
<div class="section" id="view-hl7-message-log">
<h3>12.3.3. View HL7 message log<a class="headerlink" href="#view-hl7-message-log" title="Permalink to this headline">¶</a></h3>
<p>View a log of outbound HL7 messages that CamCOPS has sent (along with their
success/failure status).</p>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">The HL7 implementation is currently disabled. This needs fixing.</p>
</div>
</div>
<div class="section" id="view-hl7-run-log">
<h3>12.3.4. View HL7 run log<a class="headerlink" href="#view-hl7-run-log" title="Permalink to this headline">¶</a></h3>
<p>View a log of HL7 runs. A run is when CamCOPS checks to see if any HL7 messages
should be sent. Each message belongs to a run. An individual run may cause
zero, one, or many messages to be sent.</p>
</div>
<div class="section" id="view-edit-id-number-definitions">
<h3>12.3.5. View/edit ID number definitions<a class="headerlink" href="#view-edit-id-number-definitions" title="Permalink to this headline">¶</a></h3>
<p>CamCOPS supports multiple simultaneous ID numbers. For example:</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="46%" />
<col width="29%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ID type number</th>
<th class="head">Description</th>
<th class="head">Short description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1</td>
<td>NHS number</td>
<td>NHS</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>CPFT RiO number</td>
<td>CPFT</td>
</tr>
<tr class="row-even"><td>3</td>
<td>CUH MRN</td>
<td>CUH</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>Smith group research ID</td>
<td>RIDSmith</td>
</tr>
<tr class="row-even"><td>99</td>
<td>Jones group research ID</td>
<td>RIDJones</td>
</tr>
</tbody>
</table>
<p>You can create and edit these definitions here. When you edit them, there are a
few additional options for HL7 messaging.</p>
</div>
<div class="section" id="edit-server-settings">
<h3>12.3.6. Edit server settings<a class="headerlink" href="#edit-server-settings" title="Permalink to this headline">¶</a></h3>
<p>You can set the server’s master database title here. The title is displayed to
all users using the database.</p>
</div>
<div class="section" id="developer-test-page">
<h3>12.3.7. Developer test page<a class="headerlink" href="#developer-test-page" title="Permalink to this headline">¶</a></h3>
<p>This is a page offering server test options; it’s not for general use.</p>
</div>
</div>
<div class="section" id="settings">
<h2>12.4. Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="show-database-server-settings">
<h3>12.4.1. Show database/server settings<a class="headerlink" href="#show-database-server-settings" title="Permalink to this headline">¶</a></h3>
<p>This shows the server’s ID number definitions, which extra string families are
present, and which tasks the server knows about.</p>
</div>
<div class="section" id="change-password">
<h3>12.4.2. Change password<a class="headerlink" href="#change-password" title="Permalink to this headline">¶</a></h3>
<p>This should be self-explanatory!</p>
</div>
<div class="section" id="choose-group-into-which-to-upload-data">
<h3>12.4.3. Choose group into which to upload data<a class="headerlink" href="#choose-group-into-which-to-upload-data" title="Permalink to this headline">¶</a></h3>
<p>When one of your tablets or other client devices (i.e. a client device using
your username) uploads data to this CamCOPS server, it will store its patient
and task details in a group. Which group should this be? You get to choose
here, from the groups that you are a member of (and have permission to upload
into).</p>
</div>
<div class="section" id="show-your-user-settings">
<h3>12.4.4. Show your user settings<a class="headerlink" href="#show-your-user-settings" title="Permalink to this headline">¶</a></h3>
<p>This shows details about your user (including group memberships).</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="devicelost" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>A disaster; you should hope that the device was encrypted and be slightly
relieved that CamCOPS data itself is.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="mha" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[2]</a></td><td>UK Mental Health Act 1983:
<a class="reference external" href="https://www.legislation.gov.uk/ukpga/1983/20/contents">https://www.legislation.gov.uk/ukpga/1983/20/contents</a>. UK Mental Health Act
2007: <a class="reference external" href="https://www.legislation.gov.uk/ukpga/2007/12/contents">https://www.legislation.gov.uk/ukpga/2007/12/contents</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="nhsrecmancop" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[3]</a></td><td>UK Department of Health, 2006, Records Management: NHS Code of Practice:
<a class="reference external" href="https://www.gov.uk/government/publications/records-management-code-of-practice-for-health-and-social-care">https://www.gov.uk/government/publications/records-management-code-of-practice-for-health-and-social-care</a></td></tr>
</tbody>
</table>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/download.html">2. Downloading CamCOPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client/client_installation.html">3. Installing and configuring the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client/client_using.html">4. Using the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_front_end_general.html">5. Web site: general use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks/_tasks_by_category.html">6. Tasks in CamCOPS by category</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks/_tasks_all.html">7. All tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client/client_troubleshooting.html">8. Troubleshooting client problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_installation.html">9. Installing CamCOPS on the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_configuration.html">10. Configuring the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_config_file.html">11. The CamCOPS server configuration file</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">12. Web site: admin functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#administrative-options-available-for-individual-tasks">12.1. Administrative options available for individual tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#group-administrator-options">12.2. Group administrator options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#superuser-options">12.3. Superuser options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#settings">12.4. Settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="server_command_line.html">13. CamCOPS command-line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_troubleshooting.html">14. Troubleshooting server problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../licences/licences.html">15. Licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">16. Developer notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/tcpip_ports.html">17. Common relevant TCP/IP ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/linux_flavours.html">18. Linux flavours</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autodoc/_index.html">19. Automatic documentation of core server source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">20. Change log/history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq_known_problems.html">21. FAQ and known problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../to_do.html">22. Things to do</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wishlist.html">23. Wishlist and blue-sky thoughts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/local_info.html">24. Local configuration information</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="server_config_file.html"
                        title="previous chapter">11. The CamCOPS server configuration file</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="server_command_line.html"
                        title="next chapter">13. CamCOPS command-line tools</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/server/server_front_end_admin.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="server_command_line.html" title="13. CamCOPS command-line tools"
             >next</a> |</li>
        <li class="right" >
          <a href="server_config_file.html" title="11. The CamCOPS server configuration file"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CamCOPS 2.2.4 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012-2018, Rudolf Cardinal.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>