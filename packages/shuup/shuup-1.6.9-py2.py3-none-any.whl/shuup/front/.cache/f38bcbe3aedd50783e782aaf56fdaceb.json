{"id":"WanD","dependencies":[{"name":"/Users/panu/shuup-dev/shuup-packages/shuup/shuup/front/package.json","includedInParent":true,"mtime":1533591255736}],"generated":{"js":"function n(n){var t=\"\";return null!==n&&(t=\"?\",$.each(n,function(n,o){var i=\"&?\".indexOf(t[t.length-1])>0;t+=i?\"\":\"&\",o.constructor===Array?t+=o.length>0?n+\"=\"+o.join(\"&\"+n+\"=\"):\"\":t+=o?n+\"=\"+o:\"\"})),t}function t(n){var t=$(\"#ajax_content\"),o=$(\".products-wrap\"),i=$(\"#admin-tools-menu\"),e=i.length>0?i.height():0,a=o.length>0?o.offset().top:t.offset().top;window.scrollTo(0,a-e),n+=\"\"===n?\"?\":\"&\",n+=\"ajax=1\",t.load(location.pathname+n)}window.refreshFilters=function(o){var i=$(\"ul.pagination\"),e={page:o||1};$.each(window.PRODUCT_LIST_FILTERS,function(n,t){var o=$(\"#id_\"+t);if(o.is(\"select\"))e[t]=o.val();else if(o.is(\"div\")){var i=[];o.find(\"input:checked\").each(function(){i.push($(this).val())}),e[t]=i}});var a=n(e);if(i.length>0){if(i.prop(\"disabled\"))return!1;if(i.prop(\"disabled\",!0),\"number\"!=typeof o&&(o=parseInt(o),isNaN(o)))return!1;window.PAGE_NUMBER=o}return t(a),window.history&&window.history.pushState&&history.pushState(e,null,a),!1},$(function(){window.addEventListener(\"popstate\",function(o){t(n(o.state))}),$.each(window.PRODUCT_LIST_FILTERS,function(n,t){if($(\"#id_\"+t).parent(\".form-group\").hasClass(\"has-error\")){var o=\"//\"+location.host+location.pathname;window.location.href=o}$(\"#id_\"+t).on(\"change\",function(){window.refreshFilters(window.PAGE_NUMBER)})})});","map":{"mappings":[{"source":"category.js","original":{"line":52,"column":0},"generated":{"line":1,"column":0}},{"source":"category.js","name":"getFilterString","original":{"line":52,"column":9},"generated":{"line":1,"column":9}},{"source":"category.js","name":"state","original":{"line":52,"column":25},"generated":{"line":1,"column":11}},{"source":"category.js","name":"filterString","original":{"line":53,"column":8},"generated":{"line":1,"column":14}},{"source":"category.js","name":"filterString","original":{"line":53,"column":8},"generated":{"line":1,"column":18}},{"source":"category.js","original":{"line":53,"column":23},"generated":{"line":1,"column":20}},{"source":"category.js","name":"filterString","original":{"line":66,"column":11},"generated":{"line":1,"column":23}},{"source":"category.js","original":{"line":54,"column":17},"generated":{"line":1,"column":30}},{"source":"category.js","name":"state","original":{"line":54,"column":7},"generated":{"line":1,"column":37}},{"source":"category.js","original":{"line":55,"column":23},"generated":{"line":1,"column":41}},{"source":"category.js","original":{"line":55,"column":23},"generated":{"line":1,"column":43}},{"source":"category.js","name":"each","original":{"line":56,"column":10},"generated":{"line":1,"column":47}},{"source":"category.js","name":"each","original":{"line":56,"column":10},"generated":{"line":1,"column":49}},{"source":"category.js","name":"state","original":{"line":56,"column":15},"generated":{"line":1,"column":54}},{"source":"category.js","original":{"line":56,"column":22},"generated":{"line":1,"column":56}},{"source":"category.js","name":"key","original":{"line":56,"column":31},"generated":{"line":1,"column":65}},{"source":"category.js","name":"value","original":{"line":56,"column":36},"generated":{"line":1,"column":67}},{"source":"category.js","name":"shouldAppendAmpersand","original":{"line":57,"column":16},"generated":{"line":1,"column":70}},{"source":"category.js","name":"shouldAppendAmpersand","original":{"line":57,"column":16},"generated":{"line":1,"column":74}},{"source":"category.js","original":{"line":57,"column":41},"generated":{"line":1,"column":76}},{"source":"category.js","name":"indexOf","original":{"line":57,"column":46},"generated":{"line":1,"column":81}},{"source":"category.js","name":"filterString","original":{"line":57,"column":54},"generated":{"line":1,"column":89}},{"source":"category.js","name":"filterString","original":{"line":57,"column":67},"generated":{"line":1,"column":91}},{"source":"category.js","name":"length","original":{"line":57,"column":80},"generated":{"line":1,"column":93}},{"source":"category.js","original":{"line":57,"column":87},"generated":{"line":1,"column":100}},{"source":"category.js","original":{"line":57,"column":93},"generated":{"line":1,"column":104}},{"source":"category.js","name":"shouldAppendAmpersand","original":{"line":58,"column":29},"generated":{"line":1,"column":106}},{"source":"category.js","name":"shouldAppendAmpersand","original":{"line":58,"column":29},"generated":{"line":1,"column":109}},{"source":"category.js","original":{"line":58,"column":53},"generated":{"line":1,"column":111}},{"source":"category.js","original":{"line":58,"column":58},"generated":{"line":1,"column":114}},{"source":"category.js","name":"value","original":{"line":59,"column":16},"generated":{"line":1,"column":118}},{"source":"category.js","name":"constructor","original":{"line":59,"column":22},"generated":{"line":1,"column":120}},{"source":"category.js","name":"Array","original":{"line":59,"column":38},"generated":{"line":1,"column":134}},{"source":"category.js","name":"value","original":{"line":60,"column":33},"generated":{"line":1,"column":140}},{"source":"category.js","name":"value","original":{"line":60,"column":33},"generated":{"line":1,"column":143}},{"source":"category.js","name":"length","original":{"line":60,"column":39},"generated":{"line":1,"column":145}},{"source":"category.js","original":{"line":60,"column":48},"generated":{"line":1,"column":152}},{"source":"category.js","name":"key","original":{"line":60,"column":53},"generated":{"line":1,"column":154}},{"source":"category.js","original":{"line":60,"column":59},"generated":{"line":1,"column":156}},{"source":"category.js","name":"value","original":{"line":60,"column":65},"generated":{"line":1,"column":160}},{"source":"category.js","name":"join","original":{"line":60,"column":71},"generated":{"line":1,"column":162}},{"source":"category.js","original":{"line":60,"column":76},"generated":{"line":1,"column":167}},{"source":"category.js","name":"key","original":{"line":60,"column":82},"generated":{"line":1,"column":171}},{"source":"category.js","original":{"line":60,"column":88},"generated":{"line":1,"column":173}},{"source":"category.js","original":{"line":60,"column":96},"generated":{"line":1,"column":178}},{"source":"category.js","name":"value","original":{"line":62,"column":33},"generated":{"line":1,"column":181}},{"source":"category.js","name":"value","original":{"line":62,"column":33},"generated":{"line":1,"column":184}},{"source":"category.js","name":"key","original":{"line":62,"column":41},"generated":{"line":1,"column":186}},{"source":"category.js","original":{"line":62,"column":47},"generated":{"line":1,"column":188}},{"source":"category.js","name":"value","original":{"line":62,"column":53},"generated":{"line":1,"column":192}},{"source":"category.js","original":{"line":62,"column":60},"generated":{"line":1,"column":194}},{"source":"category.js","name":"filterString","original":{"line":66,"column":11},"generated":{"line":1,"column":200}},{"source":"category.js","original":{"line":69,"column":0},"generated":{"line":1,"column":202}},{"source":"category.js","name":"reloadProducts","original":{"line":69,"column":9},"generated":{"line":1,"column":211}},{"source":"category.js","name":"filterString","original":{"line":69,"column":24},"generated":{"line":1,"column":213}},{"source":"category.js","name":"$cont","original":{"line":70,"column":10},"generated":{"line":1,"column":216}},{"source":"category.js","name":"$cont","original":{"line":70,"column":10},"generated":{"line":1,"column":220}},{"source":"category.js","name":"$","original":{"line":70,"column":18},"generated":{"line":1,"column":222}},{"source":"category.js","original":{"line":70,"column":20},"generated":{"line":1,"column":224}},{"source":"category.js","name":"$prods","original":{"line":71,"column":10},"generated":{"line":1,"column":241}},{"source":"category.js","name":"$","original":{"line":71,"column":19},"generated":{"line":1,"column":243}},{"source":"category.js","original":{"line":71,"column":21},"generated":{"line":1,"column":245}},{"source":"category.js","name":"$adminMenu","original":{"line":72,"column":10},"generated":{"line":1,"column":263}},{"source":"category.js","name":"$","original":{"line":72,"column":23},"generated":{"line":1,"column":265}},{"source":"category.js","original":{"line":72,"column":25},"generated":{"line":1,"column":267}},{"source":"category.js","name":"adminMenuHeight","original":{"line":73,"column":10},"generated":{"line":1,"column":288}},{"source":"category.js","name":"$adminMenu","original":{"line":73,"column":29},"generated":{"line":1,"column":290}},{"source":"category.js","name":"length","original":{"line":73,"column":40},"generated":{"line":1,"column":292}},{"source":"category.js","original":{"line":73,"column":49},"generated":{"line":1,"column":299}},{"source":"category.js","name":"$adminMenu","original":{"line":73,"column":54},"generated":{"line":1,"column":301}},{"source":"category.js","name":"height","original":{"line":73,"column":65},"generated":{"line":1,"column":303}},{"source":"category.js","original":{"line":73,"column":76},"generated":{"line":1,"column":312}},{"source":"category.js","name":"top","original":{"line":74,"column":10},"generated":{"line":1,"column":314}},{"source":"category.js","name":"$prods","original":{"line":74,"column":17},"generated":{"line":1,"column":316}},{"source":"category.js","name":"length","original":{"line":74,"column":24},"generated":{"line":1,"column":318}},{"source":"category.js","original":{"line":74,"column":33},"generated":{"line":1,"column":325}},{"source":"category.js","name":"$prods","original":{"line":74,"column":38},"generated":{"line":1,"column":327}},{"source":"category.js","name":"offset","original":{"line":74,"column":45},"generated":{"line":1,"column":329}},{"source":"category.js","name":"top","original":{"line":74,"column":54},"generated":{"line":1,"column":338}},{"source":"category.js","name":"$cont","original":{"line":74,"column":60},"generated":{"line":1,"column":342}},{"source":"category.js","name":"offset","original":{"line":74,"column":66},"generated":{"line":1,"column":344}},{"source":"category.js","name":"top","original":{"line":74,"column":75},"generated":{"line":1,"column":353}},{"source":"category.js","name":"scrollTo","original":{"line":75,"column":11},"generated":{"line":1,"column":357}},{"source":"category.js","name":"scrollTo","original":{"line":75,"column":11},"generated":{"line":1,"column":364}},{"source":"category.js","original":{"line":75,"column":20},"generated":{"line":1,"column":373}},{"source":"category.js","name":"top","original":{"line":75,"column":23},"generated":{"line":1,"column":375}},{"source":"category.js","name":"adminMenuHeight","original":{"line":75,"column":29},"generated":{"line":1,"column":377}},{"source":"category.js","name":"filterString","original":{"line":78,"column":21},"generated":{"line":1,"column":380}},{"source":"category.js","original":{"line":78,"column":38},"generated":{"line":1,"column":383}},{"source":"category.js","name":"filterString","original":{"line":78,"column":21},"generated":{"line":1,"column":388}},{"source":"category.js","original":{"line":78,"column":44},"generated":{"line":1,"column":390}},{"source":"category.js","original":{"line":78,"column":50},"generated":{"line":1,"column":394}},{"source":"category.js","original":{"line":79,"column":20},"generated":{"line":1,"column":398}},{"source":"category.js","original":{"line":79,"column":20},"generated":{"line":1,"column":401}},{"source":"category.js","name":"load","original":{"line":80,"column":10},"generated":{"line":1,"column":410}},{"source":"category.js","name":"load","original":{"line":80,"column":10},"generated":{"line":1,"column":412}},{"source":"category.js","name":"location","original":{"line":80,"column":15},"generated":{"line":1,"column":417}},{"source":"category.js","name":"pathname","original":{"line":80,"column":24},"generated":{"line":1,"column":426}},{"source":"category.js","name":"filterString","original":{"line":80,"column":35},"generated":{"line":1,"column":435}},{"source":"category.js","name":"window","original":{"line":9,"column":0},"generated":{"line":1,"column":438}},{"source":"category.js","name":"refreshFilters","original":{"line":9,"column":7},"generated":{"line":1,"column":445}},{"source":"category.js","original":{"line":9,"column":24},"generated":{"line":1,"column":460}},{"source":"category.js","name":"pageNumber","original":{"line":9,"column":48},"generated":{"line":1,"column":469}},{"source":"category.js","name":"pagination","original":{"line":10,"column":8},"generated":{"line":1,"column":472}},{"source":"category.js","name":"pagination","original":{"line":10,"column":8},"generated":{"line":1,"column":476}},{"source":"category.js","name":"$","original":{"line":10,"column":21},"generated":{"line":1,"column":478}},{"source":"category.js","original":{"line":10,"column":23},"generated":{"line":1,"column":480}},{"source":"category.js","name":"state","original":{"line":11,"column":8},"generated":{"line":1,"column":497}},{"source":"category.js","original":{"line":11,"column":16},"generated":{"line":1,"column":499}},{"source":"category.js","name":"page","original":{"line":11,"column":17},"generated":{"line":1,"column":500}},{"source":"category.js","name":"pageNumber","original":{"line":11,"column":23},"generated":{"line":1,"column":505}},{"source":"category.js","original":{"line":11,"column":49},"generated":{"line":1,"column":508}},{"source":"category.js","name":"each","original":{"line":12,"column":6},"generated":{"line":1,"column":511}},{"source":"category.js","name":"each","original":{"line":12,"column":6},"generated":{"line":1,"column":513}},{"source":"category.js","name":"window","original":{"line":12,"column":11},"generated":{"line":1,"column":518}},{"source":"category.js","name":"PRODUCT_LIST_FILTERS","original":{"line":12,"column":18},"generated":{"line":1,"column":525}},{"source":"category.js","original":{"line":12,"column":40},"generated":{"line":1,"column":546}},{"source":"category.js","name":"idx","original":{"line":12,"column":49},"generated":{"line":1,"column":555}},{"source":"category.js","name":"key","original":{"line":12,"column":54},"generated":{"line":1,"column":557}},{"source":"category.js","name":"filterObj","original":{"line":13,"column":12},"generated":{"line":1,"column":560}},{"source":"category.js","name":"filterObj","original":{"line":13,"column":12},"generated":{"line":1,"column":564}},{"source":"category.js","name":"$","original":{"line":13,"column":24},"generated":{"line":1,"column":566}},{"source":"category.js","original":{"line":13,"column":26},"generated":{"line":1,"column":568}},{"source":"category.js","name":"key","original":{"line":13,"column":35},"generated":{"line":1,"column":575}},{"source":"category.js","name":"filterObj","original":{"line":14,"column":12},"generated":{"line":1,"column":578}},{"source":"category.js","name":"filterObj","original":{"line":14,"column":12},"generated":{"line":1,"column":581}},{"source":"category.js","name":"is","original":{"line":14,"column":22},"generated":{"line":1,"column":583}},{"source":"category.js","original":{"line":14,"column":25},"generated":{"line":1,"column":586}},{"source":"category.js","name":"key","original":{"line":15,"column":18},"generated":{"line":1,"column":596}},{"source":"category.js","name":"key","original":{"line":15,"column":18},"generated":{"line":1,"column":598}},{"source":"category.js","name":"filterObj","original":{"line":15,"column":25},"generated":{"line":1,"column":601}},{"source":"category.js","name":"val","original":{"line":15,"column":35},"generated":{"line":1,"column":603}},{"source":"category.js","original":{"line":16,"column":15},"generated":{"line":1,"column":614}},{"source":"category.js","name":"filterObj","original":{"line":16,"column":19},"generated":{"line":1,"column":617}},{"source":"category.js","name":"is","original":{"line":16,"column":29},"generated":{"line":1,"column":619}},{"source":"category.js","original":{"line":16,"column":32},"generated":{"line":1,"column":622}},{"source":"category.js","original":{"line":16,"column":40},"generated":{"line":1,"column":629}},{"source":"category.js","name":"values","original":{"line":17,"column":16},"generated":{"line":1,"column":630}},{"source":"category.js","name":"values","original":{"line":17,"column":16},"generated":{"line":1,"column":634}},{"source":"category.js","original":{"line":17,"column":25},"generated":{"line":1,"column":636}},{"source":"category.js","name":"find","original":{"line":18,"column":22},"generated":{"line":1,"column":639}},{"source":"category.js","name":"find","original":{"line":18,"column":22},"generated":{"line":1,"column":641}},{"source":"category.js","original":{"line":18,"column":27},"generated":{"line":1,"column":646}},{"source":"category.js","name":"each","original":{"line":18,"column":44},"generated":{"line":1,"column":663}},{"source":"category.js","original":{"line":18,"column":49},"generated":{"line":1,"column":668}},{"source":"category.js","name":"push","original":{"line":19,"column":23},"generated":{"line":1,"column":679}},{"source":"category.js","name":"push","original":{"line":19,"column":23},"generated":{"line":1,"column":681}},{"source":"category.js","name":"$","original":{"line":19,"column":28},"generated":{"line":1,"column":686}},{"source":"category.js","original":{"line":19,"column":30},"generated":{"line":1,"column":688}},{"source":"category.js","name":"val","original":{"line":19,"column":36},"generated":{"line":1,"column":694}},{"source":"category.js","name":"key","original":{"line":21,"column":18},"generated":{"line":1,"column":703}},{"source":"category.js","name":"key","original":{"line":21,"column":18},"generated":{"line":1,"column":705}},{"source":"category.js","name":"values","original":{"line":21,"column":25},"generated":{"line":1,"column":708}},{"source":"category.js","name":"filterString","original":{"line":25,"column":8},"generated":{"line":1,"column":713}},{"source":"category.js","name":"filterString","original":{"line":25,"column":8},"generated":{"line":1,"column":717}},{"source":"category.js","name":"getFilterString","original":{"line":25,"column":23},"generated":{"line":1,"column":719}},{"source":"category.js","name":"state","original":{"line":25,"column":39},"generated":{"line":1,"column":721}},{"source":"category.js","name":"pagination","original":{"line":26,"column":8},"generated":{"line":1,"column":724}},{"source":"category.js","name":"pagination","original":{"line":26,"column":8},"generated":{"line":1,"column":727}},{"source":"category.js","name":"length","original":{"line":26,"column":19},"generated":{"line":1,"column":729}},{"source":"category.js","original":{"line":26,"column":28},"generated":{"line":1,"column":736}},{"source":"category.js","original":{"line":26,"column":31},"generated":{"line":1,"column":738}},{"source":"category.js","name":"pagination","original":{"line":28,"column":12},"generated":{"line":1,"column":739}},{"source":"category.js","name":"pagination","original":{"line":28,"column":12},"generated":{"line":1,"column":742}},{"source":"category.js","name":"prop","original":{"line":28,"column":23},"generated":{"line":1,"column":744}},{"source":"category.js","original":{"line":28,"column":28},"generated":{"line":1,"column":749}},{"source":"category.js","original":{"line":29,"column":19},"generated":{"line":1,"column":761}},{"source":"category.js","original":{"line":29,"column":19},"generated":{"line":1,"column":768}},{"source":"category.js","original":{"line":33,"column":12},"generated":{"line":1,"column":770}},{"source":"category.js","name":"prop","original":{"line":31,"column":19},"generated":{"line":1,"column":773}},{"source":"category.js","name":"prop","original":{"line":31,"column":19},"generated":{"line":1,"column":775}},{"source":"category.js","original":{"line":31,"column":24},"generated":{"line":1,"column":780}},{"source":"category.js","original":{"line":31,"column":36},"generated":{"line":1,"column":792}},{"source":"category.js","original":{"line":33,"column":36},"generated":{"line":1,"column":795}},{"source":"category.js","name":"pageNumber","original":{"line":33,"column":20},"generated":{"line":1,"column":812}},{"source":"category.js","name":"parseInt","original":{"line":34,"column":25},"generated":{"line":1,"column":816}},{"source":"category.js","name":"parseInt","original":{"line":34,"column":25},"generated":{"line":1,"column":818}},{"source":"category.js","name":"pageNumber","original":{"line":34,"column":34},"generated":{"line":1,"column":827}},{"source":"category.js","name":"isNaN","original":{"line":35,"column":16},"generated":{"line":1,"column":830}},{"source":"category.js","name":"pageNumber","original":{"line":35,"column":22},"generated":{"line":1,"column":836}},{"source":"category.js","original":{"line":36,"column":23},"generated":{"line":1,"column":840}},{"source":"category.js","original":{"line":36,"column":23},"generated":{"line":1,"column":847}},{"source":"category.js","name":"PAGE_NUMBER","original":{"line":39,"column":15},"generated":{"line":1,"column":849}},{"source":"category.js","name":"PAGE_NUMBER","original":{"line":39,"column":15},"generated":{"line":1,"column":856}},{"source":"category.js","name":"pageNumber","original":{"line":39,"column":29},"generated":{"line":1,"column":868}},{"source":"category.js","original":{"line":49,"column":11},"generated":{"line":1,"column":870}},{"source":"category.js","name":"filterString","original":{"line":43,"column":19},"generated":{"line":1,"column":877}},{"source":"category.js","name":"filterString","original":{"line":43,"column":19},"generated":{"line":1,"column":879}},{"source":"category.js","name":"window","original":{"line":45,"column":8},"generated":{"line":1,"column":882}},{"source":"category.js","name":"history","original":{"line":45,"column":15},"generated":{"line":1,"column":889}},{"source":"category.js","name":"window","original":{"line":45,"column":26},"generated":{"line":1,"column":898}},{"source":"category.js","name":"history","original":{"line":45,"column":33},"generated":{"line":1,"column":905}},{"source":"category.js","name":"pushState","original":{"line":45,"column":41},"generated":{"line":1,"column":913}},{"source":"category.js","name":"pushState","original":{"line":46,"column":16},"generated":{"line":1,"column":924}},{"source":"category.js","name":"pushState","original":{"line":46,"column":16},"generated":{"line":1,"column":932}},{"source":"category.js","name":"state","original":{"line":46,"column":26},"generated":{"line":1,"column":942}},{"source":"category.js","original":{"line":46,"column":33},"generated":{"line":1,"column":944}},{"source":"category.js","name":"filterString","original":{"line":46,"column":39},"generated":{"line":1,"column":949}},{"source":"category.js","original":{"line":49,"column":11},"generated":{"line":1,"column":953}},{"source":"category.js","name":"$","original":{"line":83,"column":0},"generated":{"line":1,"column":956}},{"source":"category.js","original":{"line":83,"column":2},"generated":{"line":1,"column":958}},{"source":"category.js","name":"addEventListener","original":{"line":84,"column":11},"generated":{"line":1,"column":969}},{"source":"category.js","name":"addEventListener","original":{"line":84,"column":11},"generated":{"line":1,"column":976}},{"source":"category.js","original":{"line":84,"column":28},"generated":{"line":1,"column":993}},{"source":"category.js","original":{"line":84,"column":40},"generated":{"line":1,"column":1004}},{"source":"category.js","name":"e","original":{"line":84,"column":49},"generated":{"line":1,"column":1013}},{"source":"category.js","name":"getFilterString","original":{"line":85,"column":23},"generated":{"line":1,"column":1016}},{"source":"category.js","name":"getFilterString","original":{"line":85,"column":23},"generated":{"line":1,"column":1018}},{"source":"category.js","name":"e","original":{"line":85,"column":39},"generated":{"line":1,"column":1020}},{"source":"category.js","name":"state","original":{"line":85,"column":41},"generated":{"line":1,"column":1022}},{"source":"category.js","name":"each","original":{"line":88,"column":6},"generated":{"line":1,"column":1032}},{"source":"category.js","name":"each","original":{"line":88,"column":6},"generated":{"line":1,"column":1034}},{"source":"category.js","name":"window","original":{"line":88,"column":11},"generated":{"line":1,"column":1039}},{"source":"category.js","name":"PRODUCT_LIST_FILTERS","original":{"line":88,"column":18},"generated":{"line":1,"column":1046}},{"source":"category.js","original":{"line":88,"column":40},"generated":{"line":1,"column":1067}},{"source":"category.js","name":"idx","original":{"line":88,"column":49},"generated":{"line":1,"column":1076}},{"source":"category.js","name":"key","original":{"line":88,"column":54},"generated":{"line":1,"column":1078}},{"source":"category.js","name":"$","original":{"line":89,"column":11},"generated":{"line":1,"column":1081}},{"source":"category.js","name":"$","original":{"line":89,"column":11},"generated":{"line":1,"column":1084}},{"source":"category.js","original":{"line":89,"column":13},"generated":{"line":1,"column":1086}},{"source":"category.js","name":"key","original":{"line":89,"column":22},"generated":{"line":1,"column":1093}},{"source":"category.js","name":"parent","original":{"line":89,"column":27},"generated":{"line":1,"column":1096}},{"source":"category.js","original":{"line":89,"column":34},"generated":{"line":1,"column":1103}},{"source":"category.js","name":"hasClass","original":{"line":89,"column":49},"generated":{"line":1,"column":1118}},{"source":"category.js","original":{"line":89,"column":58},"generated":{"line":1,"column":1127}},{"source":"category.js","original":{"line":89,"column":72},"generated":{"line":1,"column":1140}},{"source":"category.js","name":"host_str","original":{"line":90,"column":18},"generated":{"line":1,"column":1141}},{"source":"category.js","name":"host_str","original":{"line":90,"column":18},"generated":{"line":1,"column":1145}},{"source":"category.js","original":{"line":90,"column":29},"generated":{"line":1,"column":1147}},{"source":"category.js","name":"location","original":{"line":90,"column":36},"generated":{"line":1,"column":1152}},{"source":"category.js","name":"host","original":{"line":90,"column":45},"generated":{"line":1,"column":1161}},{"source":"category.js","name":"location","original":{"line":90,"column":52},"generated":{"line":1,"column":1166}},{"source":"category.js","name":"pathname","original":{"line":90,"column":61},"generated":{"line":1,"column":1175}},{"source":"category.js","name":"location","original":{"line":91,"column":19},"generated":{"line":1,"column":1184}},{"source":"category.js","name":"location","original":{"line":91,"column":19},"generated":{"line":1,"column":1191}},{"source":"category.js","name":"href","original":{"line":91,"column":28},"generated":{"line":1,"column":1200}},{"source":"category.js","name":"host_str","original":{"line":91,"column":35},"generated":{"line":1,"column":1205}},{"source":"category.js","original":{"line":93,"column":10},"generated":{"line":1,"column":1207}},{"source":"category.js","original":{"line":93,"column":10},"generated":{"line":1,"column":1209}},{"source":"category.js","name":"key","original":{"line":93,"column":19},"generated":{"line":1,"column":1216}},{"source":"category.js","name":"on","original":{"line":93,"column":24},"generated":{"line":1,"column":1219}},{"source":"category.js","original":{"line":93,"column":27},"generated":{"line":1,"column":1222}},{"source":"category.js","original":{"line":93,"column":37},"generated":{"line":1,"column":1231}},{"source":"category.js","name":"refreshFilters","original":{"line":94,"column":19},"generated":{"line":1,"column":1242}},{"source":"category.js","name":"refreshFilters","original":{"line":94,"column":19},"generated":{"line":1,"column":1249}},{"source":"category.js","name":"window","original":{"line":94,"column":34},"generated":{"line":1,"column":1264}},{"source":"category.js","name":"PAGE_NUMBER","original":{"line":94,"column":41},"generated":{"line":1,"column":1271}}],"sources":{"category.js":"/**\n * This file is part of Shuup.\n *\n * Copyright (c) 2012-2018, Shuup Inc. All rights reserved.\n *\n * This source code is licensed under the OSL-3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nwindow.refreshFilters = function refreshFilters(pageNumber) {\n    var pagination = $(\"ul.pagination\");\n    var state = {page: pageNumber ? pageNumber : 1};\n    $.each(window.PRODUCT_LIST_FILTERS, function(idx, key) {\n        var filterObj = $(\"#id_\" + key);\n        if (filterObj.is(\"select\")) {  // Basic select, checkbox etc...\n            state[key] = filterObj.val();\n        } else if (filterObj.is(\"div\")) {  // Should be filter widget\n            var values = [];\n            filterObj.find(\"input:checked\").each(function() {\n                values.push($(this).val());\n            });\n            state[key] = values;\n        }\n    });\n\n    var filterString = getFilterString(state);\n    if (pagination.length > 0) {\n        // Prevent double clicking when ajax is loading\n        if (pagination.prop(\"disabled\")) {\n            return false;\n        }\n        pagination.prop(\"disabled\", true);\n\n        if (typeof (pageNumber) !== \"number\") {\n            pageNumber = parseInt(pageNumber);\n            if (isNaN(pageNumber)) {\n                return false;\n            }\n        }\n        window.PAGE_NUMBER = pageNumber;\n    }\n\n\n    reloadProducts(filterString);\n\n    if (window.history && window.history.pushState) {\n        history.pushState(state, null, filterString);\n    }\n    // prevent scroll to page buttons\n    return false;\n};\n\nfunction getFilterString(state) {\n    var filterString = \"\";\n    if(state !== null) {\n        filterString = \"?\";\n        $.each(state, function(key, value) {\n            var shouldAppendAmpersand = (\"&?\".indexOf(filterString[filterString.length-1]) > 0);\n            filterString += (shouldAppendAmpersand ? \"\" : \"&\");\n            if (value.constructor === Array) {\n                filterString += (value.length > 0 ? (key + \"=\" + value.join(\"&\" + key + \"=\")) : \"\");\n            } else {\n                filterString += (value ? key + \"=\" + value: \"\");\n            }\n        });\n    }\n    return filterString;\n}\n\nfunction reloadProducts(filterString) {\n    const $cont = $(\"#ajax_content\");\n    const $prods = $(\".products-wrap\");\n    const $adminMenu = $(\"#admin-tools-menu\");\n    const adminMenuHeight = ($adminMenu.length > 0) ? $adminMenu.height() : 0;\n    const top = ($prods.length > 0) ? $prods.offset().top : $cont.offset().top;\n    window.scrollTo(0, top - adminMenuHeight);\n\n    // this is to ensure browser back/forward from different domain does a full refresh\n    filterString += (filterString === \"\") ? \"?\" : \"&\";\n    filterString += \"ajax=1\";\n    $cont.load(location.pathname + filterString);\n}\n\n$(function() {\n    window.addEventListener(\"popstate\", function(e) {\n        reloadProducts(getFilterString(e.state));\n    });\n\n    $.each(window.PRODUCT_LIST_FILTERS, function(idx, key) {\n        if($(\"#id_\" + key).parent(\".form-group\").hasClass(\"has-error\")) {\n            const host_str = '//' + location.host + location.pathname;\n            window.location.href = host_str;\n        }\n        $(\"#id_\" + key).on(\"change\", function() {\n            window.refreshFilters(window.PAGE_NUMBER);\n        });\n    });\n});\n"},"lineCount":null}},"hash":"b793d5183bcd980840efaab7817884e0","cacheData":{"env":{}}}