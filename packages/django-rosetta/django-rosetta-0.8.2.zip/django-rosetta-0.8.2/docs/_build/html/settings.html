
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Settings &#8212; Django Rosetta 0.8.2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Usage" href="usage.html" />
    <link rel="prev" title="Installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="settings">
<h1>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h1>
<p>Rosetta can be configured via the following parameters, to be defined in your project settings file:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_MESSAGES_PER_PAGE</span></code>: Number of messages to display per page. Defaults to <code class="docutils literal notranslate"><span class="pre">10</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_ENABLE_TRANSLATION_SUGGESTIONS</span></code>: Enable AJAX translation suggestions. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">YANDEX_TRANSLATE_KEY</span></code>: Translation suggestions from Yandex <a class="reference external" href="http://api.yandex.com/translate/">Yandex.Translate API</a>. To use this service you must first <a class="reference external" href="http://api.yandex.com/key/form.xml?service=trnsl">obtain an AppID key</a>, then specify the key here. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">AZURE_CLIENT_ID</span></code> and <code class="docutils literal notranslate"><span class="pre">AZURE_CLIENT_SECRET</span></code>: Translation suggestions using the Microsoft Azure API. To use this service, you must first <a class="reference external" href="https://datamarket.azure.com/dataset/5BA839F1-12CE-4CCE-BF57-A49D98D29A44">register for the service</a>, then specify the ‘Customer ID’ and ‘Primary Account Key’ respectively, which you can find on your <a class="reference external" href="https://datamarket.azure.com/account?lang=en">account information page on Azure Marketplace</a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_MESSAGES_SOURCE_LANGUAGE_CODE</span></code> and <code class="docutils literal notranslate"><span class="pre">ROSETTA_MESSAGES_SOURCE_LANGUAGE_NAME</span></code>: Change these if the source language in your PO files isn’t English. Default to <code class="docutils literal notranslate"><span class="pre">'en'</span></code> and <code class="docutils literal notranslate"><span class="pre">'English'</span></code> respectively.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_WSGI_AUTO_RELOAD</span></code> and <code class="docutils literal notranslate"><span class="pre">ROSETTA_UWSGI_AUTO_RELOAD</span></code>: When running WSGI daemon mode, using <code class="docutils literal notranslate"><span class="pre">mod_wsgi</span></code> 2.0c5 or later, this setting controls whether the contents of the gettext catalog files should be automatically reloaded by the WSGI processes each time they are modified. For performance reasons, this setting should be disabled in production environments. Default to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_EXCLUDED_APPLICATIONS</span></code>: Exclude applications defined in this list from being translated. Defaults to <code class="docutils literal notranslate"><span class="pre">()</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_REQUIRES_AUTH</span></code>: Require authentication for all Rosetta views. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_POFILE_WRAP_WIDTH</span></code>: Sets the line-length of the edited PO file. Set this to <code class="docutils literal notranslate"><span class="pre">0</span></code> to mimic <code class="docutils literal notranslate"><span class="pre">makemessage</span></code>’s <code class="docutils literal notranslate"><span class="pre">--no-wrap</span></code> option. Defaults to <code class="docutils literal notranslate"><span class="pre">78</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_STORAGE_CLASS</span></code>: See the note below on Storages. Defaults to <code class="docutils literal notranslate"><span class="pre">rosetta.storage.CacheRosettaStorage</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_ACCESS_CONTROL_FUNCTION</span></code>: An alternative function that determines if a given user can access the translation views. This function receives a <code class="docutils literal notranslate"><span class="pre">user</span></code> as its argument, and returns a boolean specifying whether the passed user is allowed to use Rosetta or not.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_LANGUAGE_GROUPS</span></code>: Set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to enable language-specific groups, which can be used to give different translators access to different languages. Instead of creating a global <code class="docutils literal notranslate"><span class="pre">translators</span></code> group, create individual per-language groups, e.g. <code class="docutils literal notranslate"><span class="pre">translators-de</span></code>, <code class="docutils literal notranslate"><span class="pre">translators-fr</span></code>, and assign users to these.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_CACHE_NAME</span></code>: When using <code class="docutils literal notranslate"><span class="pre">rosetta.storage.CacheRosettaStorage</span></code>, you can store the Rosetta data in a specific cache. This is particularly useful when your <code class="docutils literal notranslate"><span class="pre">default</span></code> cache is a <code class="docutils literal notranslate"><span class="pre">django.core.cache.backends.dummy.DummyCache</span></code> (which happens on pre-production environments). If unset, it will default to <code class="docutils literal notranslate"><span class="pre">rosetta</span></code> if a cache with this name exists, or <code class="docutils literal notranslate"><span class="pre">default</span></code> if not.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_POFILENAMES</span></code>: Defines which po file names are exposed in the web interface. Defaults to <code class="docutils literal notranslate"><span class="pre">('django.po',</span> <span class="pre">'djangojs.po')</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_EXCLUDED_PATHS</span></code>: Exclude paths defined in this list from being searched (usually ends with “locale”). Defaults to <code class="docutils literal notranslate"><span class="pre">()</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_AUTO_COMPILE</span></code>: Determines whether the MO file is automatically compiled when the PO file is saved. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_ENABLE_REFLANG</span></code>: Enables a selector for picking a reference language other than English. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ROSETTA_SHOW_AT_ADMIN_PANEL</span></code>: Adds a handy link to Rosetta at the bottom of the Django admin apps index. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</li>
</ul>
<div class="section" id="storages">
<h2>Storages<a class="headerlink" href="#storages" title="Permalink to this headline">¶</a></h2>
<p>To prevent re-reading and parsing the PO file catalogs over and over again, Rosetta stores them in a volatile location. This can be either the HTTP session or the Django cache.</p>
<p>Django 1.4 has introduced a signed cookie session backend, which stores the whole content of the session in an encrypted cookie. Unfortunately this doesn’t work with large PO files, as the limit of 4096 chars that can be stored in a cookie is easily exceeded.</p>
<p>In this case the Cache-based backend should be used (by setting <code class="docutils literal notranslate"><span class="pre">ROSETTA_STORAGE_CLASS</span> <span class="pre">=</span> <span class="pre">'rosetta.storage.CacheRosettaStorage'</span></code>). Please make sure that a proper <code class="docutils literal notranslate"><span class="pre">CACHES</span></code> backend is configured in your Django settings if your Django app is being served in a multi-process environment, or the different server processes, serving subsequent requests, won’t find the storage data left by previous requests.</p>
<p>Alternatively you can switch back to using the Session based storage by setting <code class="docutils literal notranslate"><span class="pre">ROSETTA_STORAGE_CLASS</span> <span class="pre">=</span> <span class="pre">'rosetta.storage.SessionRosettaStorage'</span></code> in your settings. This is perfectly safe on Django 1.3. On Django 1.4 or higher make sure you have DON’T use the <a class="reference external" href="https://docs.djangoproject.com/en/dev/topics/http/sessions/#using-cookie-based-sessions">signed_cookies</a> <code class="docutils literal notranslate"><span class="pre">SESSION_BACKEND</span></code> with this Rosetta storage backend or funky things might happen.</p>
<p><strong>TL;DR</strong>: if you run Django with gunincorn, mod-wsgi or other multi-process environment, the Django-default <code class="docutils literal notranslate"><span class="pre">CACHES</span></code> <code class="docutils literal notranslate"><span class="pre">LocMemCache</span></code> backend won’t suffice: use memcache instead, or you will run into issues.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Django Rosetta</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Settings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#storages">Storages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Version History</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Installation</a></li>
      <li>Next: <a href="usage.html" title="next chapter">Usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2008 – 2018 Marco Bonetti and contributors.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/settings.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>