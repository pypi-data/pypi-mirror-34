[hook]
api_hook =
  dlvm.wrapper.log_hook.log_hook
rpc_server_hook =
  dlvm.wrapper.log_hook.log_hook
rpc_client_hook =
  dlvm.wrapper.log_hook.log_hook
cmd_hook =
  dlvm.wrapper.log_hook.log_hook
sm_send_hook =
  dlvm.wrapper.log_hook.log_hook
sm_recv_hook =
  dlvm.wrapper.log_hook.log_hook
monitor_hook =
  dlvm.wrapper.log_hook.log_hook

[rpc]
dpv_port = 9522
dpv_listener = localhost
dpv_timeout = 300
ihost_port = 9523
ihost_listener = localhost
ihost_timeout = 300

[database]
db_uri = mysql+pymysql://dlvm_user:dlvm_password@localhost/dlvm

[api]
list_limit = 100

[cmd]
timeout = 10
path_list =

[device_mapper]
dpv_prefix = dlvmdpv
ihost_prefix = dlvmihost
local_vg = dlvm_vg
init_factor = 4
init_max = 200G
init_min = 1G
lvm_unit = 4M
thin_meta_factor = 48
thin_meta_min = 2M
thin_block_size = 2M
mirror_meta_blocks = 1
mirror_region_blocks = 1
stripe_chunk_size = 512K
low_water_mark = 100

[mq]
broker = pyamqp://guest@localhost//
forward_max_retries = 3
backward_max_retries = 3
enforce_max_retries = 1
max_retries = 100
retry_delay = 60
dlv_create_queue = low_prio
dlv_delete_queue = low_prio
dlv_attach_queue = low_prio
dlv_detach_queue = low_prio

[lock]
expire_seconds = 300
grace_seconds = 300

[allocator]
low_size = 100G
middle_size = 500G
high_size = 1T

[iscsi]
target_prefix = iqn.2016-12.dlvm.target
initiator_prefix = iqn.2016-12.dlvm.initiator
iface = default
path_fmt = /dev/disk/by-path/ip-{address}:{port}-iscsi-{target_name}-lun-0
iscsi_userid = dlvm_user
iscsi_password = dlvm_password
iscsi_port = 3260

[monitor]
queue = monitor
lock_handler_interval = 60.0
lock_handler_batch = 10
dpv_handler_interval = 60.0
dpv_handler_batch = 10

[general]
tmp_dir = /tmp
