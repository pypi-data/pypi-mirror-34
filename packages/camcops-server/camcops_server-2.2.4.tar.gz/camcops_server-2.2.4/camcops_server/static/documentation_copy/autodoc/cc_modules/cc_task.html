
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>19.1.45. camcops_server.cc_modules.cc_task &#8212; CamCOPS 2.2.4 documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/camcops_docs.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="19.1.46. camcops_server.cc_modules.cc_taskfactory" href="cc_taskfactory.html" />
    <link rel="prev" title="19.1.44. camcops_server.cc_modules.cc_tabletsession" href="cc_tabletsession.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cc_taskfactory.html" title="19.1.46. camcops_server.cc_modules.cc_taskfactory"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cc_tabletsession.html" title="19.1.44. camcops_server.cc_modules.cc_tabletsession"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CamCOPS 2.2.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../_index.html" >19. Automatic documentation of core server source code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="_index.html" accesskey="U">&lt;no title&gt;</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-camcops_server.cc_modules.cc_task">
<span id="camcops-server-cc-modules-cc-task"></span><h1>19.1.45. camcops_server.cc_modules.cc_task<a class="headerlink" href="#module-camcops_server.cc_modules.cc_task" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<blockquote>
<div><p>Copyright (C) 2012-2018 Rudolf Cardinal (<a class="reference external" href="mailto:rudolf&#37;&#52;&#48;pobox&#46;com">rudolf<span>&#64;</span>pobox<span>&#46;</span>com</a>).</p>
<p>This file is part of CamCOPS.</p>
<p>CamCOPS is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>CamCOPS is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with CamCOPS. If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
</div></blockquote>
<hr class="docutils" />
<p>Core task export methods:</p>
<p>——  ———————————————————————–
Format  Comment
——  ———————————————————————–
HTML    The task in a user-friendly format
PDF     Essentially the HTML output
XML     Centres on the task with its subdata integrated
TSV     Tab-separated value format
SQL     As part of an SQL or SQLite download
——  ———————————————————————–</p>
<dl class="class">
<dt id="camcops_server.cc_modules.cc_task.Task">
<em class="property">class </em><code class="descclassname">camcops_server.cc_modules.cc_task.</code><code class="descname">Task</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for all tasks.</p>
<ul>
<li><p class="first">Column definitions:</p>
<blockquote>
<div><p>Use CamcopsColumn, not Column, if you have fields that need to define
permitted values, mark them as BLOB-referencing fields, or do other
CamCOPS-specific things.</p>
</div></blockquote>
</li>
</ul>
<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.all_true">
<code class="descname">all_true</code><span class="sig-paren">(</span><em>fields: List[str]</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.all_true"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.all_true" title="Permalink to this definition">¶</a></dt>
<dd><p>Do all fields evaluate to True?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.apply_special_note">
<code class="descname">apply_special_note</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>note: str</em>, <em>from_console: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.apply_special_note"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.apply_special_note" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually applies a special note to a task.</p>
<p>Applies it to all predecessor/successor versions as well.
WRITES TO DATABASE.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.are_all_fields_complete">
<code class="descname">are_all_fields_complete</code><span class="sig-paren">(</span><em>fields: List[str]</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.are_all_fields_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.are_all_fields_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Are all fields not None?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.audit">
<code class="descname">audit</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>details: str</em>, <em>from_console: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.audit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.audit" title="Permalink to this definition">¶</a></dt>
<dd><p>Audits actions to this task.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.count_booleans">
<code class="descname">count_booleans</code><span class="sig-paren">(</span><em>fields: List[str]</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.count_booleans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.count_booleans" title="Permalink to this definition">¶</a></dt>
<dd><p>How many fields evaluate to True?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.count_where">
<code class="descname">count_where</code><span class="sig-paren">(</span><em>fields: List[str], wherevalues: List[Any]</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.count_where"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.count_where" title="Permalink to this definition">¶</a></dt>
<dd><p>Count how many field values are in wherevalues.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.count_wherenot">
<code class="descname">count_wherenot</code><span class="sig-paren">(</span><em>fields: List[str], notvalues: List[Any]</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.count_wherenot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.count_wherenot" title="Permalink to this definition">¶</a></dt>
<dd><p>Count how many field values are NOT in notvalues.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.delete_entirely">
<code class="descname">delete_entirely</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.delete_entirely"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.delete_entirely" title="Permalink to this definition">¶</a></dt>
<dd><p>Completely delete this task, its lineage, and its dependents.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.delete_from_hl7_message_log">
<code class="descname">delete_from_hl7_message_log</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>from_console: bool = False</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.delete_from_hl7_message_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.delete_from_hl7_message_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Erases the object from the HL7 message log (so it will be resent).</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.dump">
<code class="descname">dump</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump to log.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.field_contents_invalid_because">
<code class="descname">field_contents_invalid_because</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List[str]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.field_contents_invalid_because"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.field_contents_invalid_because" title="Permalink to this definition">¶</a></dt>
<dd><p>Explains why contents are invalid.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.field_contents_valid">
<code class="descname">field_contents_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.field_contents_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.field_contents_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks field contents validity against fieldspecs.
This is a high-speed function that doesn’t bother with explanations,
since we use it for lots of task is_complete() calculations.</p>
</dd></dl>

<dl class="classmethod">
<dt id="camcops_server.cc_modules.cc_task.Task.gen_all_subclasses">
<em class="property">classmethod </em><code class="descname">gen_all_subclasses</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Generator[[Type[Task], NoneType], NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.gen_all_subclasses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.gen_all_subclasses" title="Permalink to this definition">¶</a></dt>
<dd><p>We require that actual tasks are subclasses of both Task and Base</p>
<p>… so we can (a) inherit from Task to make a base class for actual
tasks, as with PCL, HADS, HoNOS, etc.; and (b) not have those
intermediate classes appear in the task list. Since all actual classes
must be SQLAlchemy ORM objects inheriting from Base, that common
inheritance is an excellent way to define them.</p>
<p>… CHANGED: things now inherit from Base/Task without necessarily
being actual tasks; we discriminate using __abstract__ and/or
__tablename__.</p>
</dd></dl>

<dl class="classmethod">
<dt id="camcops_server.cc_modules.cc_task.Task.gen_text_filter_columns">
<em class="property">classmethod </em><code class="descname">gen_text_filter_columns</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Generator[[Tuple[str, sqlalchemy.sql.schema.Column], NoneType], NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.gen_text_filter_columns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.gen_text_filter_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields tuples of (attr_name, Column), for columns that are suitable
for text filtering.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_clinical_text">
<code class="descname">get_clinical_text</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; Union[List[camcops_server.cc_modules.cc_ctvinfo.CtvInfo], NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_clinical_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_clinical_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Tasks that provide clinical text information should override this
to provide a list of dictionaries.</p>
<p>Return None (default) for a task that doesn’t provide clinical text,
or [] for one with no information, or a list of CtvInfo objects.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_clinician_name">
<code class="descname">get_clinician_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_clinician_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_clinician_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the clinician’s name.
May be overridden by TaskHasClinicianMixin.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_creation_datetime">
<code class="descname">get_creation_datetime</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Union[pendulum.datetime.DateTime, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_creation_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_creation_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Creation datetime, or None.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_creation_datetime_utc">
<code class="descname">get_creation_datetime_utc</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Union[pendulum.datetime.DateTime, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_creation_datetime_utc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_creation_datetime_utc" title="Permalink to this definition">¶</a></dt>
<dd><p>Creation datetime in UTC, or None.</p>
</dd></dl>

<dl class="classmethod">
<dt id="camcops_server.cc_modules.cc_task.Task.get_cris_dd_rows">
<em class="property">classmethod </em><code class="descname">get_cris_dd_rows</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; List[Dict]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_cris_dd_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_cris_dd_rows" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">fix get_cris_dd_rows</p>
</div>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_extra_summary_tables">
<code class="descname">get_extra_summary_tables</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; List[camcops_server.cc_modules.cc_summaryelement.ExtraSummaryTable]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_extra_summary_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_extra_summary_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Override if you wish to create extra summary tables, not just add
summary columns to task/ancillary tables.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_hl7_data_segments">
<code class="descname">get_hl7_data_segments</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>recipient_def: camcops_server.cc_modules.cc_recipdef.RecipientDefinition</em><span class="sig-paren">)</span> &#x2192; List[hl7.containers.Segment]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_hl7_data_segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_hl7_data_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of HL7 data segments.</p>
<dl class="docutils">
<dt>These will be:</dt>
<dd>OBR segment
OBX segment
any extra ones offered by the task</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_hl7_extra_data_segments">
<code class="descname">get_hl7_extra_data_segments</code><span class="sig-paren">(</span><em>recipient_def: camcops_server.cc_modules.cc_recipdef.RecipientDefinition</em><span class="sig-paren">)</span> &#x2192; List[hl7.containers.Segment]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_hl7_extra_data_segments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_hl7_extra_data_segments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of any extra HL7 data segments.</p>
<p>May be overridden.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_html">
<code class="descname">get_html</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>anonymise: bool = False</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns HTML representing task.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_is_complete_td_pair">
<code class="descname">get_is_complete_td_pair</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_is_complete_td_pair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_is_complete_td_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML to indicate whether task is complete or not, and to make it
very obvious visually when it isn’t.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_is_complete_tr">
<code class="descname">get_is_complete_tr</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_is_complete_tr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_is_complete_tr" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML table row to indicate whether task is complete or not, and to
make it very obvious visually when it isn’t.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_address">
<code class="descname">get_patient_address</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_address"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the patient’s address, or “”.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_dob">
<code class="descname">get_patient_dob</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Union[pendulum.date.Date, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_dob"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_dob" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the patient’s DOB, or None.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_dob_first11chars">
<code class="descname">get_patient_dob_first11chars</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Union[str, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_dob_first11chars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_dob_first11chars" title="Permalink to this definition">¶</a></dt>
<dd><p>For example: ‘29 Dec 1999’.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_forename">
<code class="descname">get_patient_forename</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_forename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_forename" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the patient’s forename, in upper case, or “”.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_hl7_pid_segment">
<code class="descname">get_patient_hl7_pid_segment</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>recipient_def: camcops_server.cc_modules.cc_recipdef.RecipientDefinition</em><span class="sig-paren">)</span> &#x2192; Union[hl7.containers.Segment, str]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_hl7_pid_segment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_hl7_pid_segment" title="Permalink to this definition">¶</a></dt>
<dd><p>Get patient HL7 PID segment, or “”.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_idnum_object">
<code class="descname">get_patient_idnum_object</code><span class="sig-paren">(</span><em>which_idnum: int</em><span class="sig-paren">)</span> &#x2192; Union[camcops_server.cc_modules.cc_patientidnum.PatientIdNum, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_idnum_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_idnum_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the patient’s ID number, or None.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_server_pk">
<code class="descname">get_patient_server_pk</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Union[int, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_server_pk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_server_pk" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the server PK of the patient, or None.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_sex">
<code class="descname">get_patient_sex</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_sex"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_sex" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the patient’s sex, or “”.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_patient_surname">
<code class="descname">get_patient_surname</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_patient_surname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_patient_surname" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the patient’s surname, in upper case, or “”.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_pdf">
<code class="descname">get_pdf</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>anonymise: bool = False</em><span class="sig-paren">)</span> &#x2192; bytes<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_pdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_pdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns PDF representing task.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_pdf_html">
<code class="descname">get_pdf_html</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>anonymise: bool = False</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_pdf_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_pdf_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets HTML used to make PDF (slightly different from plain HTML).</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_rio_metadata">
<code class="descname">get_rio_metadata</code><span class="sig-paren">(</span><em>which_idnum: int</em>, <em>uploading_user_id: str</em>, <em>document_type: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_rio_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_rio_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by cc_hl7.send_to_filestore().</p>
<p>From Servelec (Lee Meredith) to Rudolf Cardinal, 2014-12-04:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Batch Document Upload

The RiO batch document upload function can be used to upload
documents in bulk automatically.  RiO includes a Batch Upload
windows service which monitors a designated folder for new files.
Each file which is scanned must be placed in the designated folder
along with a meta-data file which describes the document.  So
essentially if a document had been scanned in and was called
‘ThisIsANewReferralLetterForAPatient.pdf’ then there would also
need to be a meta file in the same folder called
‘ThisIsANewReferralLetterForAPatient.metadata’.  The contents of
the meta file would need to include the following:

    Field Order; Field Name; Description; Data Mandatory (Y/N);
    Format

    1; ClientID; RiO Client ID which identifies the patient in RiO
    against which the document will be uploaded.; Y; 15
    Alphanumeric Characters

    2; UserID; User ID of the uploaded document, this is any user
    defined within the RiO system and can be a single system user
    called ‘AutomaticDocumentUploadUser’ for example.; Y; 10
    Alphanumeric Characters

        [NB example longer than that!]

    3; DocumentType; The RiO defined document type eg: APT; Y; 80
    Alphanumeric Characters

    4; Title; The title of the document; N; 40 Alphanumeric
    Characters

    5; Description; The document description.; N; 500 Alphanumeric
    Characters

    6; Author; The author of the document; N; 80 Alphanumeric
    Characters

    7; DocumentDate; The date of the document; N; dd/MM/yyyy HH:mm

    8; FinalRevision; The revision values are 0 Draft or 1 Final,
    this is defaulted to 1 which is Final revision.; N; 0 or 1

As an example, this is what would be needed in a meta file:

    “1000001”,”TRUST1”,”APT”,”A title”, “A description of the
        document”, “An author”,”01/12/2012 09:45”,”1”

(on one line)
</pre></div>
</div>
<p>Clarification, from Lee Meredith to Rudolf Cardinal, 2015-02-18:</p>
<ul>
<li><p class="first">metadata files must be plain ASCII, not UTF-8</p>
<blockquote>
<div><ul class="simple">
<li>… here and cc_hl7.send_to_filestore()</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">line terminator is &lt;CR&gt;</p>
<blockquote>
<div><ul class="simple">
<li>… cc_hl7.send_to_filestore()</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">user name limit is 10 characters, despite incorrect example</p>
<blockquote>
<div><ul class="simple">
<li>… RecipientDefinition.check_valid()</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">DocumentType is a code that maps to a human-readable document
type; for example, “APT” might map to “Appointment Letter”. These
mappings are specific to the local system. (We will probably want
one that maps to “Clinical Correspondence” in the absence of
anything more specific.)</p>
</li>
<li><p class="first">RiO will delete the files after it’s processed them.</p>
</li>
<li><p class="first">Filenames should avoid spaces, but otherwise any other standard
ASCII code is fine within filenames.</p>
<blockquote>
<div><ul class="simple">
<li>… cc_hl7.send_to_filestore()</li>
</ul>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_seconds_from_creation_to_first_finish">
<code class="descname">get_seconds_from_creation_to_first_finish</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Union[float, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_seconds_from_creation_to_first_finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_seconds_from_creation_to_first_finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Time in seconds from creation time to first finish (i.e. first exit
if the first exit was a finish rather than an abort), or None.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_standard_clinician_comments_block">
<code class="descname">get_standard_clinician_comments_block</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>comments: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_standard_clinician_comments_block"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_standard_clinician_comments_block" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML DIV for clinician’s comments.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_task_html">
<code class="descname">get_task_html</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_task_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_task_html" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML for the main task content.
Overridden by derived classes.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_trackers">
<code class="descname">get_trackers</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; List[camcops_server.cc_modules.cc_trackerhelpers.TrackerInfo]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_trackers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_trackers" title="Permalink to this definition">¶</a></dt>
<dd><p>Tasks that provide quantitative information for tracking over time
should override this and return a list of TrackerInfo, one per tracker.</p>
<p>The information is read by get_all_plots_for_one_task_html() in
cc_tracker.py – q.v.</p>
<p>Time information will be retrieved using the get_creation_datetime()
function.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_tsv_pages">
<code class="descname">get_tsv_pages</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; List[camcops_server.cc_modules.cc_tsv.TsvPage]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_tsv_pages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_tsv_pages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns information used for the basic research dump in TSV format.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_twocol_bool_row">
<code class="descname">get_twocol_bool_row</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>fieldname: str</em>, <em>label: str = None</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_twocol_bool_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_twocol_bool_row" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML table row, two columns, with Boolean Y/N formatter.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_twocol_bool_row_present_absent">
<code class="descname">get_twocol_bool_row_present_absent</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>fieldname: str</em>, <em>label: str = None</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_twocol_bool_row_present_absent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_twocol_bool_row_present_absent" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML table row, two columns, with Boolean P/A formatter.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_twocol_bool_row_true_false">
<code class="descname">get_twocol_bool_row_true_false</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>fieldname: str</em>, <em>label: str = None</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_twocol_bool_row_true_false"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_twocol_bool_row_true_false" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML table row, two columns, with Boolean T/F formatter.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="camcops_server.cc_modules.cc_task.Task.get_twocol_picture_row">
<em class="property">static </em><code class="descname">get_twocol_picture_row</code><span class="sig-paren">(</span><em>blob: Union[camcops_server.cc_modules.cc_blob.Blob, NoneType], label: str</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_twocol_picture_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_twocol_picture_row" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML table row, two columns, with PNG on right.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_twocol_string_row">
<code class="descname">get_twocol_string_row</code><span class="sig-paren">(</span><em>fieldname: str</em>, <em>label: str = None</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_twocol_string_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_twocol_string_row" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML table row, two columns, with web-safing of value.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_twocol_val_row">
<code class="descname">get_twocol_val_row</code><span class="sig-paren">(</span><em>fieldname: str</em>, <em>default: str = None</em>, <em>label: str = None</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_twocol_val_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_twocol_val_row" title="Permalink to this definition">¶</a></dt>
<dd><p>HTML table row, two columns, without web-safing of value.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_values">
<code class="descname">get_values</code><span class="sig-paren">(</span><em>fields: List[str]</em><span class="sig-paren">)</span> &#x2192; List<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of object’s values from list of field names.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_xml">
<code class="descname">get_xml</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>include_calculated: bool = True</em>, <em>include_blobs: bool = True</em>, <em>include_patient: bool = True</em>, <em>indent_spaces: int = 4</em>, <em>eol: str = '\n'</em>, <em>skip_fields: List[str] = None</em>, <em>include_comments: bool = False</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_xml"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_xml" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns XML UTF-8 document representing task.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_xml_core_branches">
<code class="descname">get_xml_core_branches</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>include_calculated: bool = True</em>, <em>include_blobs: bool = True</em>, <em>include_patient: bool = True</em>, <em>include_ancillary: bool = True</em>, <em>skip_fields: List[str] = None</em><span class="sig-paren">)</span> &#x2192; List[camcops_server.cc_modules.cc_xml.XmlElement]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_xml_core_branches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_xml_core_branches" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of XmlElementTuple elements representing stored,
calculated, patient, and/or BLOB fields, depending on the options.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.get_xml_root">
<code class="descname">get_xml_root</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>include_calculated: bool = True</em>, <em>include_blobs: bool = True</em>, <em>include_patient: bool = True</em>, <em>include_ancillary: bool = True</em>, <em>skip_fields: List[str] = None</em><span class="sig-paren">)</span> &#x2192; camcops_server.cc_modules.cc_xml.XmlElement<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.get_xml_root"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.get_xml_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns XML tree. Return value is the root XmlElement.</p>
<p>Override to include other tables, or to deal with BLOBs, if the default
methods are insufficient.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.is_complete">
<code class="descname">is_complete</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.is_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.is_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the task instance complete?
Must be overridden.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.is_female">
<code class="descname">is_female</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.is_female"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.is_female" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the patient female?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.is_field_complete">
<code class="descname">is_field_complete</code><span class="sig-paren">(</span><em>field: str</em><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.is_field_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.is_field_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the field not None?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.is_live_on_tablet">
<code class="descname">is_live_on_tablet</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.is_live_on_tablet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.is_live_on_tablet" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the instance live on a tablet?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.is_male">
<code class="descname">is_male</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.is_male"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.is_male" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the patient male?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.is_preserved">
<code class="descname">is_preserved</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.is_preserved"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.is_preserved" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the task preserved and erased from the tablet?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.is_respondent_complete">
<code class="descname">is_respondent_complete</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.is_respondent_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.is_respondent_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>May be overridden by TaskHasRespondentMixin.</p>
</dd></dl>

<dl class="classmethod">
<dt id="camcops_server.cc_modules.cc_task.Task.make_cris_tables">
<em class="property">classmethod </em><code class="descname">make_cris_tables</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>db: DatabaseSupporter</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.make_cris_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.make_cris_tables" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">fix make_cris_tables</p>
</div>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.manually_erase">
<code class="descname">manually_erase</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.manually_erase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.manually_erase" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually erases a task (including sub-tables).
Also erases linked non-current records.
This WIPES THE CONTENTS but LEAVES THE RECORD AS A PLACEHOLDER.</p>
<p>Audits the erasure. Propagates erase through to the HL7 log, so those
records will be re-sent. WRITES TO DATABASE.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.mean_fields">
<code class="descname">mean_fields</code><span class="sig-paren">(</span><em>fields: List[str], ignorevalue: Any = None</em><span class="sig-paren">)</span> &#x2192; Union[int, float, NoneType]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.mean_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.mean_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Mean of values stored in all fields (skipping any whose value is
ignorevalue).</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.n_complete">
<code class="descname">n_complete</code><span class="sig-paren">(</span><em>fields: List[str]</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.n_complete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.n_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>How many of the fields are not None?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.n_incomplete">
<code class="descname">n_incomplete</code><span class="sig-paren">(</span><em>fields: List[str]</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.n_incomplete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.n_incomplete" title="Permalink to this definition">¶</a></dt>
<dd><p>How many of the fields are None?</p>
</dd></dl>

<dl class="attribute">
<dt id="camcops_server.cc_modules.cc_task.Task.patient">
<code class="descname">patient</code><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.patient" title="Permalink to this definition">¶</a></dt>
<dd><p>Overridden by TaskHasPatientMixin.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.suggested_pdf_filename">
<code class="descname">suggested_pdf_filename</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.suggested_pdf_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.suggested_pdf_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Suggested filename for PDF.</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.sum_fields">
<code class="descname">sum_fields</code><span class="sig-paren">(</span><em>fields: List[str], ignorevalue: Any = None</em><span class="sig-paren">)</span> &#x2192; Union[int, float]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.sum_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.sum_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum values stored in all fields (skipping any whose value is
ignorevalue; treating fields containing None as zero).</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.was_forcibly_preserved">
<code class="descname">was_forcibly_preserved</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; bool<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.was_forcibly_preserved"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.was_forcibly_preserved" title="Permalink to this definition">¶</a></dt>
<dd><p>Was it forcibly preserved?</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_task.Task.write_pdf_to_disk">
<code class="descname">write_pdf_to_disk</code><span class="sig-paren">(</span><em>req: camcops_server.cc_modules.cc_request.CamcopsRequest</em>, <em>filename: str</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#Task.write_pdf_to_disk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.Task.write_pdf_to_disk" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes PDF to disk, using filename.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="camcops_server.cc_modules.cc_task.TaskCountReport">
<em class="property">class </em><code class="descclassname">camcops_server.cc_modules.cc_task.</code><code class="descname">TaskCountReport</code><a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#TaskCountReport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.TaskCountReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Report to count task instances.</p>
</dd></dl>

<dl class="class">
<dt id="camcops_server.cc_modules.cc_task.TaskHasClinicianMixin">
<em class="property">class </em><code class="descclassname">camcops_server.cc_modules.cc_task.</code><code class="descname">TaskHasClinicianMixin</code><a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#TaskHasClinicianMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.TaskHasClinicianMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Mixin to add clinician columns and override clinician-related methods.
Must be to the LEFT of Task in the class’s base class list.</p>
</dd></dl>

<dl class="class">
<dt id="camcops_server.cc_modules.cc_task.TaskHasRespondentMixin">
<em class="property">class </em><code class="descclassname">camcops_server.cc_modules.cc_task.</code><code class="descname">TaskHasRespondentMixin</code><a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#TaskHasRespondentMixin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.TaskHasRespondentMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Mixin to add respondent columns and override respondent-related methods.
Must be to the LEFT of Task in the class’s base class list.</p>
<p>If you don’t use declared_attr, the “comment” property doesn’t work.</p>
</dd></dl>

<dl class="class">
<dt id="camcops_server.cc_modules.cc_task.TaskTests">
<em class="property">class </em><code class="descclassname">camcops_server.cc_modules.cc_task.</code><code class="descname">TaskTests</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#TaskTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.TaskTests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="camcops_server.cc_modules.cc_task.get_from_dict">
<code class="descclassname">camcops_server.cc_modules.cc_task.</code><code class="descname">get_from_dict</code><span class="sig-paren">(</span><em>d: Dict</em>, <em>key: str</em>, <em>default: Any = '[invalid_value]'</em><span class="sig-paren">)</span> &#x2192; Any<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_task.html#get_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_task.get_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a value from a dictionary.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/download.html">2. Downloading CamCOPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client/client_installation.html">3. Installing and configuring the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client/client_using.html">4. Using the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_front_end_general.html">5. Web site: general use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tasks/_tasks_by_category.html">6. Tasks in CamCOPS by category</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tasks/_tasks_all.html">7. All tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client/client_troubleshooting.html">8. Troubleshooting client problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_installation.html">9. Installing CamCOPS on the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_configuration.html">10. Configuring the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_config_file.html">11. The CamCOPS server configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_front_end_admin.html">12. Web site: admin functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_command_line.html">13. CamCOPS command-line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_troubleshooting.html">14. Troubleshooting server problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licences/licences.html">15. Licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">16. Developer notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/tcpip_ports.html">17. Common relevant TCP/IP ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/linux_flavours.html">18. Linux flavours</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_index.html">19. Automatic documentation of core server source code</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../_index.html#server">19.1. Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">20. Change log/history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq_known_problems.html">21. FAQ and known problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../to_do.html">22. Things to do</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wishlist.html">23. Wishlist and blue-sky thoughts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/local_info.html">24. Local configuration information</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cc_tabletsession.html"
                        title="previous chapter">19.1.44. camcops_server.cc_modules.cc_tabletsession</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cc_taskfactory.html"
                        title="next chapter">19.1.46. camcops_server.cc_modules.cc_taskfactory</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/autodoc/cc_modules/cc_task.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cc_taskfactory.html" title="19.1.46. camcops_server.cc_modules.cc_taskfactory"
             >next</a> |</li>
        <li class="right" >
          <a href="cc_tabletsession.html" title="19.1.44. camcops_server.cc_modules.cc_tabletsession"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CamCOPS 2.2.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../_index.html" >19. Automatic documentation of core server source code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="_index.html" >&lt;no title&gt;</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012-2018, Rudolf Cardinal.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>