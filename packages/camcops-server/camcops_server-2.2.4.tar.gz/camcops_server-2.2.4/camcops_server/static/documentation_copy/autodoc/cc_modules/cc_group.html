
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>19.1.19. camcops_server.cc_modules.cc_group &#8212; CamCOPS 2.2.4 documentation</title>
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/camcops_docs.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="19.1.20. camcops_server.cc_modules.cc_hl7" href="cc_hl7.html" />
    <link rel="prev" title="19.1.18. camcops_server.cc_modules.cc_forms" href="cc_forms.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cc_hl7.html" title="19.1.20. camcops_server.cc_modules.cc_hl7"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cc_forms.html" title="19.1.18. camcops_server.cc_modules.cc_forms"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CamCOPS 2.2.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../_index.html" >19. Automatic documentation of core server source code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="_index.html" accesskey="U">&lt;no title&gt;</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-camcops_server.cc_modules.cc_group">
<span id="camcops-server-cc-modules-cc-group"></span><h1>19.1.19. camcops_server.cc_modules.cc_group<a class="headerlink" href="#module-camcops_server.cc_modules.cc_group" title="Permalink to this headline">¶</a></h1>
<hr class="docutils" />
<blockquote>
<div><p>Copyright (C) 2012-2018 Rudolf Cardinal (<a class="reference external" href="mailto:rudolf&#37;&#52;&#48;pobox&#46;com">rudolf<span>&#64;</span>pobox<span>&#46;</span>com</a>).</p>
<p>This file is part of CamCOPS.</p>
<p>CamCOPS is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>CamCOPS is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License
along with CamCOPS. If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
</div></blockquote>
<hr class="docutils" />
<dl class="class">
<dt id="camcops_server.cc_modules.cc_group.Group">
<em class="property">class </em><code class="descclassname">camcops_server.cc_modules.cc_group.</code><code class="descname">Group</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_group.html#Group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_group.Group" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a CamCOPS group.</p>
<ul>
<li><p class="first">Users may be in one or more groups.</p>
</li>
<li><p class="first">Users have a default “upload to” group.</p>
</li>
<li><p class="first">Tasks (and other associated records) from a tablet get stashed in that
group.</p>
</li>
<li><p class="first">Users can see records belonging to their group(s).</p>
</li>
<li><p class="first">To facilitate group working, there is one level of indirection: groups
themselves can have permission to see other groups.</p>
<p>For example, imagine a research-active hospital with these groups:</p>
<p>USERS TO GROUPS:</p>
<blockquote>
<div><p>RA_Smith is in group            depression_crp_study
PhDstudent_Jones is in group    depression_crp_study</p>
<p>RA_Willis is in group           depression_ketamine_study
PhDstudent_Fox is in group      depression_ketamine_study</p>
<p>RA_Armstrong is in group        healthy_development_study
PhDstudent_Bliss is in group    healthy_development_study</p>
<dl class="docutils">
<dt>PI_Cratchett is in groups:      depression_crp_study</dt>
<dd><p class="first last">depression_ketamine_study</p>
</dd>
<dt>PI_Boxworth is in groups:       depression_ketamine_study</dt>
<dd><p class="first last">healthy_development_study
clinical</p>
</dd>
</dl>
<p>SHO_Amundsen is in group        clinical
SpR_Richards is in group        clinical</p>
</div></blockquote>
<p>GROUPS TO OTHER GROUPS:</p>
<blockquote>
<div><dl class="docutils">
<dt>clinical can see:   depression_crp_study</dt>
<dd><p class="first last">depression_ketamine_study</p>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Then:</dt>
<dd><blockquote class="first">
<div><p>+– can see depression_crp_study
|
|       +– can see depression_ketamine_study
|       |
|       |       +– can see
|       |       |   healthy_development_study
|       |       |
|       |       |       +– can see clinical
|       |       |       |
v       v       v       v</p>
</div></blockquote>
<p class="last">RA_Smith            Y       n       n       n
PhDstudent_Jones    Y       n       n       n
RA_Willis           n       Y       n       n
PhDstudent_Fox      n       Y       n       n
RA_Armstrong        n       n       Y       n
PhDstudent_Bliss    n       n       Y       n
PI_Cratchett        Y       Y       n       n
PI_Boxworth         Y       Y       Y       Y
SHO_Amundsen        Y       Y       n       Y
SpR_Richards        Y       Y       n       Y</p>
</dd>
</dl>
<p>This example embodies these specimen principles:</p>
<blockquote>
<div><ul class="simple">
<li>Researchers see only the patients consented into their study.</li>
<li>A researcher may be part of one or several studies.</li>
<li>Clinicians can see all records, including research records, for
patients consented into clinical research for the hospital.</li>
<li>There may be some studies that don’t involve patients, so
clinicians don’t get some sort of superuser status.</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>(Actual CamCOPS superusers can see everything. This is an administrative
role.)</p>
<p>If that’s not enough, consider starting another CamCOPS database…</p>
<p>Then, we want a per-group ID policy. The prototypical example is where
clinical studies are hosted from a clinical organization; all group may be
required to share a common institutional ID, but individual studies may
want to enforce their own ID, so ID policies cannot be global.</p>
<p>For a large-scale system, it’d be desirable to be able to delegate user
management to group administrators, such that groupadmins can manage their
own users WITHOUT being able to see all records on the system.
This is a bit tricky.</p>
<ul class="simple">
<li>The superuser, alone, should be able to set groupadmin status, and to
create/delete groups.</li>
<li><dl class="first docutils">
<dt>We’d want them to be able to add users</dt>
<dd>=&gt; add if user doesn’t exist already (=&gt; some information leakage)</dd>
</dl>
</li>
<li>We can’t let them delete users arbitrarily. We could say that they could
delete a user if all the users’ groups were administered by this
groupadmin.</li>
<li>The groupadmin should be able to grant/revoke access for their groups
only.</li>
<li><dl class="first docutils">
<dt>This would entail some permissions being group-specific:</dt>
<dd><ul class="first last">
<li>login     [can login if “login” permission set for ANY group]</li>
<li><dl class="first docutils">
<dt>upload    [can upload to a group only if “upload” permission for</dt>
<dd>that group]</dd>
</dl>
</li>
<li>register devices  [similar to upload]</li>
<li><dl class="first docutils">
<dt>view_all_patients_when_unfiltered</dt>
<dd><dl class="first last docutils">
<dt>[if you’re in &gt;1 group, this per-group setting would be</dt>
<dd>applied to patients belonging to that group]</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>may_dump_data</dt>
<dd>[applies to data for that group only]</dd>
</dl>
</li>
<li>may_run_reports   [also per-group]</li>
<li>may_add_notes [also per-group]</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A certain amount of crosstalk is hard to avoid: e.g.</dt>
<dd>must_change_password</dd>
</dl>
</li>
</ul>
<dl class="method">
<dt id="camcops_server.cc_modules.cc_group.Group.ids_of_groups_group_may_see">
<code class="descname">ids_of_groups_group_may_see</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Set[int]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_group.html#Group.ids_of_groups_group_may_see"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_group.Group.ids_of_groups_group_may_see" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of group IDs for groups that this group has permission
to see. (Always includes our own group number.)</p>
</dd></dl>

<dl class="method">
<dt id="camcops_server.cc_modules.cc_group.Group.ids_of_other_groups_group_may_see">
<code class="descname">ids_of_other_groups_group_may_see</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Set[int]<a class="reference internal" href="../../_modules/camcops_server/cc_modules/cc_group.html#Group.ids_of_other_groups_group_may_see"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#camcops_server.cc_modules.cc_group.Group.ids_of_other_groups_group_may_see" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of group IDs for groups that this group has permission
to see. (Always includes our own group number.)</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table Of Contents</a></h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/download.html">2. Downloading CamCOPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client/client_installation.html">3. Installing and configuring the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client/client_using.html">4. Using the client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_front_end_general.html">5. Web site: general use</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tasks/_tasks_by_category.html">6. Tasks in CamCOPS by category</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tasks/_tasks_all.html">7. All tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client/client_troubleshooting.html">8. Troubleshooting client problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_installation.html">9. Installing CamCOPS on the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_configuration.html">10. Configuring the server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_config_file.html">11. The CamCOPS server configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_front_end_admin.html">12. Web site: admin functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_command_line.html">13. CamCOPS command-line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server/server_troubleshooting.html">14. Troubleshooting server problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../licences/licences.html">15. Licences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">16. Developer notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/tcpip_ports.html">17. Common relevant TCP/IP ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/linux_flavours.html">18. Linux flavours</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../_index.html">19. Automatic documentation of core server source code</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../_index.html#server">19.1. Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">20. Change log/history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq_known_problems.html">21. FAQ and known problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../to_do.html">22. Things to do</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../wishlist.html">23. Wishlist and blue-sky thoughts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/local_info.html">24. Local configuration information</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cc_forms.html"
                        title="previous chapter">19.1.18. camcops_server.cc_modules.cc_forms</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cc_hl7.html"
                        title="next chapter">19.1.20. camcops_server.cc_modules.cc_hl7</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/autodoc/cc_modules/cc_group.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cc_hl7.html" title="19.1.20. camcops_server.cc_modules.cc_hl7"
             >next</a> |</li>
        <li class="right" >
          <a href="cc_forms.html" title="19.1.18. camcops_server.cc_modules.cc_forms"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">CamCOPS 2.2.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../_index.html" >19. Automatic documentation of core server source code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="_index.html" >&lt;no title&gt;</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2012-2018, Rudolf Cardinal.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>